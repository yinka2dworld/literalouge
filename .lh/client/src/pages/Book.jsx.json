{
    "sourceFile": "client/src/pages/Book.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 23,
            "patches": [
                {
                    "date": 1736562833452,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1736562860831,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,131 @@\n+import '../css/Book.css';\r\n+import { useParams, useNavigate } from \"react-router-dom\";\r\n+import Navbar from '../layout/Navbar.jsx';\r\n+import Footer from '../layout/Footer.jsx';\r\n+import { useQuery, useMutation } from '@apollo/client';\r\n+import { BOOK } from '../graphql/queries.js';\r\n+import { DELETEBOOK } from '../graphql/mutations.js';\r\n+import { FaTrash, FaEdit } from 'react-icons/fa';\r\n+import { saveAs } from 'file-saver';\r\n+import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n+\r\n+const Book = () => {\r\n+  const { bookId } = useParams(); // Get bookId from the route\r\n+  const navigate = useNavigate();\r\n+  const role = localStorage.getItem('role'); // Fetch user role\r\n+  const token = localStorage.getItem('token');\r\n+\r\n+  // Fetch book data\r\n+  const { loading, error, data } = useQuery(BOOK, {\r\n+    variables: { \r\n+      bookId,\r\n+    },\r\n+    context: {\r\n+      headers: {\r\n+        Authorization: 'Bearer ' + token,\r\n+      },\r\n+    },\r\n+  });\r\n+   const book = data?.book;\r\n+\r\n+  const [deleteBook] = useMutation(DELETEBOOK);\r\n+  \r\n+  const handleDelete = async () => {\r\n+    if (!bookId) {\r\n+      alert('Invalid book ID.');\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const { data } = await deleteBook({\r\n+        variables: { deleteBookId: bookId },\r\n+        context: {\r\n+          headers: {\r\n+            Authorization: 'Bearer '+token\r\n+          },\r\n+        },\r\n+      });\r\n+      if (data?.deleteBook?.success) {\r\n+        alert('Book deleted successfully!');\r\n+        navigate('/home');\r\n+      } else {\r\n+        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n+      }\r\n+    } catch (err) {\r\n+      console.error('Error deleting book:', err);\r\n+      alert('An error occurred while deleting the book. Please try again.');\r\n+    }\r\n+  };\r\n+\r\n+  if (loading) return <p>Loading...</p>;\r\n+  if (error) return <p>Error: {error.message}</p>;\r\n+\r\n+  const handleUpdate = () => {\r\n+    navigate(`/admin/updateBook/${bookId}`);\r\n+  };\r\n+\r\n+  const handleDownload = () => {\r\n+    const pdfUrl = book.bookFile;\r\n+    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n+    if (!pdfUrl) {\r\n+      alert('File not available for download.');\r\n+      return;\r\n+    }\r\n+    saveAs(pdfUrl, pdfName); \r\n+  };\r\n+\r\n+  return (\r\n+    <div>\r\n+      <Navbar />\r\n+      \r\n+      <div className=\"book-detail\">\r\n+        <img\r\n+          src={book.bookCover} \r\n+          alt={book.bookName}\r\n+          className=\"book-photo\"\r\n+        />\r\n+\r\n+        <div className=\"book-info\">\r\n+          <h1 className=\"book-title\">{book.bookName}</h1>\r\n+          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"book-description\">\r\n+          <h3>Description</h3>\r\n+          <p className='desc'>{book.bookDescription}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"book-meta\">\r\n+          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n+          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"buttons-div\">\r\n+          {/* Download button */}\r\n+          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n+            Download \r\n+          </button>\r\n+\r\n+          {/* Admin icons for delete and edit */}\r\n+          {(role === 'admin' || role === 'superAdmin') && (\r\n+            <div className=\"admin-icons\">\r\n+              <FaTrash\r\n+                className=\"icon delete-icon\"\r\n+                title=\"Delete Book\"\r\n+                onClick={handleDelete}\r\n+              />\r\n+              <FaEdit\r\n+                className=\"icon edit-icon\"\r\n+                title=\"Update Book\"\r\n+                onClick={handleUpdate}\r\n+              />\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      </div>\r\n+      <Footer />\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Book;\r\n"
                },
                {
                    "date": 1736562874601,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,17 @@\n \r\n   return (\r\n     <div>\r\n       <Navbar />\r\n-      \r\n+      <div style={{backgroundColor:'white', marginBottom:'20px'}}>\r\n+                 <h3 style={{paddingTop:'20px',textAlign:'center', color:'#070C70'}}>We need your support!</h3>\r\n+            <Link  className='donate-msg'  to='/donate' style={{ color:'#ff1493'}}> \r\n+        <p style={{ fontSize:'20px', textAlign:'center', paddingBottom:'40px'}}>\r\n+            Kindly click here to support us by donating funds that we need in order to be able to continue to deliver splendid content.\r\n+            <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n+        </Link>  \r\n+           </div>\r\n+           \r\n       <div className=\"book-detail\">\r\n         <img\r\n           src={book.bookCover} \r\n           alt={book.bookName}\r\n@@ -128,134 +136,4 @@\n   );\r\n };\r\n \r\n export default Book;\r\n-import '../css/Book.css';\r\n-import { useParams, useNavigate } from \"react-router-dom\";\r\n-import Navbar from '../layout/Navbar.jsx';\r\n-import Footer from '../layout/Footer.jsx';\r\n-import { useQuery, useMutation } from '@apollo/client';\r\n-import { BOOK } from '../graphql/queries.js';\r\n-import { DELETEBOOK } from '../graphql/mutations.js';\r\n-import { FaTrash, FaEdit } from 'react-icons/fa';\r\n-import { saveAs } from 'file-saver';\r\n-\r\n-\r\n-const Book = () => {\r\n-  const { bookId } = useParams(); // Get bookId from the route\r\n-  const navigate = useNavigate();\r\n-  const role = localStorage.getItem('role'); // Fetch user role\r\n-  const token = localStorage.getItem('token');\r\n-\r\n-  // Fetch book data\r\n-  const { loading, error, data } = useQuery(BOOK, {\r\n-    variables: { \r\n-      bookId,\r\n-    },\r\n-    context: {\r\n-      headers: {\r\n-        Authorization: 'Bearer ' + token,\r\n-      },\r\n-    },\r\n-  });\r\n-   const book = data?.book;\r\n-\r\n-  const [deleteBook] = useMutation(DELETEBOOK);\r\n-  \r\n-  const handleDelete = async () => {\r\n-    if (!bookId) {\r\n-      alert('Invalid book ID.');\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      const { data } = await deleteBook({\r\n-        variables: { deleteBookId: bookId },\r\n-        context: {\r\n-          headers: {\r\n-            Authorization: 'Bearer '+token\r\n-          },\r\n-        },\r\n-      });\r\n-      if (data?.deleteBook?.success) {\r\n-        alert('Book deleted successfully!');\r\n-        navigate('/home');\r\n-      } else {\r\n-        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n-      }\r\n-    } catch (err) {\r\n-      console.error('Error deleting book:', err);\r\n-      alert('An error occurred while deleting the book. Please try again.');\r\n-    }\r\n-  };\r\n-\r\n-  if (loading) return <p>Loading...</p>;\r\n-  if (error) return <p>Error: {error.message}</p>;\r\n-\r\n-  const handleUpdate = () => {\r\n-    navigate(`/admin/updateBook/${bookId}`);\r\n-  };\r\n-\r\n-  const handleDownload = () => {\r\n-    const pdfUrl = book.bookFile;\r\n-    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n-    if (!pdfUrl) {\r\n-      alert('File not available for download.');\r\n-      return;\r\n-    }\r\n-    saveAs(pdfUrl, pdfName); \r\n-  };\r\n-\r\n-  return (\r\n-    <div>\r\n-      <Navbar />\r\n-      <div className=\"book-detail\">\r\n-        <img\r\n-          src={book.bookCover} \r\n-          alt={book.bookName}\r\n-          className=\"book-photo\"\r\n-        />\r\n-\r\n-        <div className=\"book-info\">\r\n-          <h1 className=\"book-title\">{book.bookName}</h1>\r\n-          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"book-description\">\r\n-          <h3>Description</h3>\r\n-          <p className='desc'>{book.bookDescription}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"book-meta\">\r\n-          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n-          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"buttons-div\">\r\n-          {/* Download button */}\r\n-          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n-            Download \r\n-          </button>\r\n-\r\n-          {/* Admin icons for delete and edit */}\r\n-          {(role === 'admin' || role === 'superAdmin') && (\r\n-            <div className=\"admin-icons\">\r\n-              <FaTrash\r\n-                className=\"icon delete-icon\"\r\n-                title=\"Delete Book\"\r\n-                onClick={handleDelete}\r\n-              />\r\n-              <FaEdit\r\n-                className=\"icon edit-icon\"\r\n-                title=\"Update Book\"\r\n-                onClick={handleUpdate}\r\n-              />\r\n-            </div>\r\n-          )}\r\n-        </div>\r\n-      </div>\r\n-      <Footer />\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default Book;\r\n"
                },
                {
                    "date": 1736562898264,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,139 @@\n+import '../css/Book.css';\r\n+import { useParams, useNavigate, L } from \"react-router-dom\";\r\n+import Navbar from '../layout/Navbar.jsx';\r\n+import Footer from '../layout/Footer.jsx';\r\n+import { useQuery, useMutation } from '@apollo/client';\r\n+import { BOOK } from '../graphql/queries.js';\r\n+import { DELETEBOOK } from '../graphql/mutations.js';\r\n+import { FaTrash, FaEdit } from 'react-icons/fa';\r\n+import { saveAs } from 'file-saver';\r\n+import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n+\r\n+const Book = () => {\r\n+  const { bookId } = useParams(); // Get bookId from the route\r\n+  const navigate = useNavigate();\r\n+  const role = localStorage.getItem('role'); // Fetch user role\r\n+  const token = localStorage.getItem('token');\r\n+\r\n+  // Fetch book data\r\n+  const { loading, error, data } = useQuery(BOOK, {\r\n+    variables: { \r\n+      bookId,\r\n+    },\r\n+    context: {\r\n+      headers: {\r\n+        Authorization: 'Bearer ' + token,\r\n+      },\r\n+    },\r\n+  });\r\n+   const book = data?.book;\r\n+\r\n+  const [deleteBook] = useMutation(DELETEBOOK);\r\n+  \r\n+  const handleDelete = async () => {\r\n+    if (!bookId) {\r\n+      alert('Invalid book ID.');\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const { data } = await deleteBook({\r\n+        variables: { deleteBookId: bookId },\r\n+        context: {\r\n+          headers: {\r\n+            Authorization: 'Bearer '+token\r\n+          },\r\n+        },\r\n+      });\r\n+      if (data?.deleteBook?.success) {\r\n+        alert('Book deleted successfully!');\r\n+        navigate('/home');\r\n+      } else {\r\n+        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n+      }\r\n+    } catch (err) {\r\n+      console.error('Error deleting book:', err);\r\n+      alert('An error occurred while deleting the book. Please try again.');\r\n+    }\r\n+  };\r\n+\r\n+  if (loading) return <p>Loading...</p>;\r\n+  if (error) return <p>Error: {error.message}</p>;\r\n+\r\n+  const handleUpdate = () => {\r\n+    navigate(`/admin/updateBook/${bookId}`);\r\n+  };\r\n+\r\n+  const handleDownload = () => {\r\n+    const pdfUrl = book.bookFile;\r\n+    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n+    if (!pdfUrl) {\r\n+      alert('File not available for download.');\r\n+      return;\r\n+    }\r\n+    saveAs(pdfUrl, pdfName); \r\n+  };\r\n+\r\n+  return (\r\n+    <div>\r\n+      <Navbar />\r\n+      <div style={{backgroundColor:'white', marginBottom:'20px'}}>\r\n+                 <h3 style={{paddingTop:'20px',textAlign:'center', color:'#070C70'}}>We need your support!</h3>\r\n+            <Link  className='donate-msg'  to='/donate' style={{ color:'#ff1493'}}> \r\n+        <p style={{ fontSize:'20px', textAlign:'center', paddingBottom:'40px'}}>\r\n+            Kindly click here to support us by donating funds that we need in order to be able to continue to deliver splendid content.\r\n+            <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n+        </Link>  \r\n+           </div>\r\n+\r\n+      <div className=\"book-detail\">\r\n+        <img\r\n+          src={book.bookCover} \r\n+          alt={book.bookName}\r\n+          className=\"book-photo\"\r\n+        />\r\n+\r\n+        <div className=\"book-info\">\r\n+          <h1 className=\"book-title\">{book.bookName}</h1>\r\n+          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"book-description\">\r\n+          <h3>Description</h3>\r\n+          <p className='desc'>{book.bookDescription}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"book-meta\">\r\n+          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n+          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"buttons-div\">\r\n+          {/* Download button */}\r\n+          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n+            Download \r\n+          </button>\r\n+\r\n+          {/* Admin icons for delete and edit */}\r\n+          {(role === 'admin' || role === 'superAdmin') && (\r\n+            <div className=\"admin-icons\">\r\n+              <FaTrash\r\n+                className=\"icon delete-icon\"\r\n+                title=\"Delete Book\"\r\n+                onClick={handleDelete}\r\n+              />\r\n+              <FaEdit\r\n+                className=\"icon edit-icon\"\r\n+                title=\"Update Book\"\r\n+                onClick={handleUpdate}\r\n+              />\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      </div>\r\n+      <Footer />\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Book;\r\n"
                },
                {
                    "date": 1736563007752,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,132 @@\n+import '../css/Book.css';\r\n+import { useParams, useNavigate, Link } from \"react-router-dom\";\r\n+import Navbar from '../layout/Navbar.jsx';\r\n+import Footer from '../layout/Footer.jsx';\r\n+import { useQuery, useMutation } from '@apollo/client';\r\n+import { BOOK } from '../graphql/queries.js';\r\n+import { DELETEBOOK } from '../graphql/mutations.js';\r\n+import { FaTrash, FaEdit } from 'react-icons/fa';\r\n+import { saveAs } from 'file-saver';\r\n+import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n+\r\n+const Book = () => {\r\n+  const { bookId } = useParams(); // Get bookId from the route\r\n+  const navigate = useNavigate();\r\n+  const role = localStorage.getItem('role'); // Fetch user role\r\n+  const token = localStorage.getItem('token');\r\n+\r\n+  // Fetch book data\r\n+  const { loading, error, data } = useQuery(BOOK, {\r\n+    variables: { \r\n+      bookId,\r\n+    },\r\n+    context: {\r\n+      headers: {\r\n+        Authorization: 'Bearer ' + token,\r\n+      },\r\n+    },\r\n+  });\r\n+   const book = data?.book;\r\n+\r\n+  const [deleteBook] = useMutation(DELETEBOOK);\r\n+  \r\n+  const handleDelete = async () => {\r\n+    if (!bookId) {\r\n+      alert('Invalid book ID.');\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const { data } = await deleteBook({\r\n+        variables: { deleteBookId: bookId },\r\n+        context: {\r\n+          headers: {\r\n+            Authorization: 'Bearer '+token\r\n+          },\r\n+        },\r\n+      });\r\n+      if (data?.deleteBook?.success) {\r\n+        alert('Book deleted successfully!');\r\n+        navigate('/home');\r\n+      } else {\r\n+        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n+      }\r\n+    } catch (err) {\r\n+      console.error('Error deleting book:', err);\r\n+      alert('An error occurred while deleting the book. Please try again.');\r\n+    }\r\n+  };\r\n+\r\n+  if (loading) return <p>Loading...</p>;\r\n+  if (error) return <p>Error: {error.message}</p>;\r\n+\r\n+  const handleUpdate = () => {\r\n+    navigate(`/admin/updateBook/${bookId}`);\r\n+  };\r\n+\r\n+  const handleDownload = () => {\r\n+    const pdfUrl = book.bookFile;\r\n+    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n+    if (!pdfUrl) {\r\n+      alert('File not available for download.');\r\n+      return;\r\n+    }\r\n+    saveAs(pdfUrl, pdfName); \r\n+  };\r\n+\r\n+  return (\r\n+    <div>\r\n+      <Navbar />\r\n+      \r\n+\r\n+      <div className=\"book-detail\">\r\n+        <img\r\n+          src={book.bookCover} \r\n+          alt={book.bookName}\r\n+          className=\"book-photo\"\r\n+        />\r\n+\r\n+        <div className=\"book-info\">\r\n+          <h1 className=\"book-title\">{book.bookName}</h1>\r\n+          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"book-description\">\r\n+          <h3>Description</h3>\r\n+          <p className='desc'>{book.bookDescription}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"book-meta\">\r\n+          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n+          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"buttons-div\">\r\n+          {/* Download button */}\r\n+          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n+            Download \r\n+          </button>\r\n+\r\n+          {/* Admin icons for delete and edit */}\r\n+          {(role === 'admin' || role === 'superAdmin') && (\r\n+            <div className=\"admin-icons\">\r\n+              <FaTrash\r\n+                className=\"icon delete-icon\"\r\n+                title=\"Delete Book\"\r\n+                onClick={handleDelete}\r\n+              />\r\n+              <FaEdit\r\n+                className=\"icon edit-icon\"\r\n+                title=\"Update Book\"\r\n+                onClick={handleUpdate}\r\n+              />\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      </div>\r\n+      <Footer />\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Book;\r\n"
                },
                {
                    "date": 1736563031477,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,138 @@\n+import '../css/Book.css';\r\n+import { useParams, useNavigate, Link } from \"react-router-dom\";\r\n+import Navbar from '../layout/Navbar.jsx';\r\n+import Footer from '../layout/Footer.jsx';\r\n+import { useQuery, useMutation } from '@apollo/client';\r\n+import { BOOK } from '../graphql/queries.js';\r\n+import { DELETEBOOK } from '../graphql/mutations.js';\r\n+import { FaTrash, FaEdit } from 'react-icons/fa';\r\n+import { saveAs } from 'file-saver';\r\n+import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n+\r\n+const Book = () => {\r\n+  const { bookId } = useParams(); // Get bookId from the route\r\n+  const navigate = useNavigate();\r\n+  const role = localStorage.getItem('role'); // Fetch user role\r\n+  const token = localStorage.getItem('token');\r\n+\r\n+  // Fetch book data\r\n+  const { loading, error, data } = useQuery(BOOK, {\r\n+    variables: { \r\n+      bookId,\r\n+    },\r\n+    context: {\r\n+      headers: {\r\n+        Authorization: 'Bearer ' + token,\r\n+      },\r\n+    },\r\n+  });\r\n+   const book = data?.book;\r\n+\r\n+  const [deleteBook] = useMutation(DELETEBOOK);\r\n+  \r\n+  const handleDelete = async () => {\r\n+    if (!bookId) {\r\n+      alert('Invalid book ID.');\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const { data } = await deleteBook({\r\n+        variables: { deleteBookId: bookId },\r\n+        context: {\r\n+          headers: {\r\n+            Authorization: 'Bearer '+token\r\n+          },\r\n+        },\r\n+      });\r\n+      if (data?.deleteBook?.success) {\r\n+        alert('Book deleted successfully!');\r\n+        navigate('/home');\r\n+      } else {\r\n+        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n+      }\r\n+    } catch (err) {\r\n+      console.error('Error deleting book:', err);\r\n+      alert('An error occurred while deleting the book. Please try again.');\r\n+    }\r\n+  };\r\n+\r\n+  if (loading) return <p>Loading...</p>;\r\n+  if (error) return <p>Error: {error.message}</p>;\r\n+\r\n+  const handleUpdate = () => {\r\n+    navigate(`/admin/updateBook/${bookId}`);\r\n+  };\r\n+\r\n+  const handleDownload = () => {\r\n+    const pdfUrl = book.bookFile;\r\n+    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n+    if (!pdfUrl) {\r\n+      alert('File not available for download.');\r\n+      return;\r\n+    }\r\n+    saveAs(pdfUrl, pdfName); \r\n+  };\r\n+\r\n+  return (\r\n+    <div>\r\n+      <Navbar />\r\n+\r\n+      <div className=\"book-detail\">\r\n+        <img\r\n+          src={book.bookCover} \r\n+          alt={book.bookName}\r\n+          className=\"book-photo\"\r\n+        />\r\n+\r\n+        <div className=\"book-info\">\r\n+          <h1 className=\"book-title\">{book.bookName}</h1>\r\n+          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n+        </div>\r\n+        <div style={{backgroundColor:'white', marginBottom:'20px'}}>\r\n+                 <h3 style={{paddingTop:'20px',textAlign:'center', color:'#070C70'}}>We need your support!</h3>\r\n+            <Link  className='donate-msg'  to='/donate' style={{ color:'#ff1493'}}> \r\n+        <p style={{ fontSize:'20px', textAlign:'center', paddingBottom:'40px'}}>\r\n+            Kindly click here to support us by donating funds that we need in order to be able to continue to deliver splendid content.\r\n+            <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n+        </Link>  \r\n+           </div>\r\n+        <div className=\"book-description\">\r\n+          <h3>Description</h3>\r\n+          <p className='desc'>{book.bookDescription}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"book-meta\">\r\n+          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n+          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"buttons-div\">\r\n+          {/* Download button */}\r\n+          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n+            Download \r\n+          </button>\r\n+\r\n+          {/* Admin icons for delete and edit */}\r\n+          {(role === 'admin' || role === 'superAdmin') && (\r\n+            <div className=\"admin-icons\">\r\n+              <FaTrash\r\n+                className=\"icon delete-icon\"\r\n+                title=\"Delete Book\"\r\n+                onClick={handleDelete}\r\n+              />\r\n+              <FaEdit\r\n+                className=\"icon edit-icon\"\r\n+                title=\"Update Book\"\r\n+                onClick={handleUpdate}\r\n+              />\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      </div>\r\n+      <Footer />\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Book;\r\n"
                },
                {
                    "date": 1736563107660,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,140 @@\n+import '../css/Book.css';\r\n+import { useParams, useNavigate, Link } from \"react-router-dom\";\r\n+import Navbar from '../layout/Navbar.jsx';\r\n+import Footer from '../layout/Footer.jsx';\r\n+import { useQuery, useMutation } from '@apollo/client';\r\n+import { BOOK } from '../graphql/queries.js';\r\n+import { DELETEBOOK } from '../graphql/mutations.js';\r\n+import { FaTrash, FaEdit } from 'react-icons/fa';\r\n+import { saveAs } from 'file-saver';\r\n+import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n+\r\n+const Book = () => {\r\n+  const { bookId } = useParams(); // Get bookId from the route\r\n+  const navigate = useNavigate();\r\n+  const role = localStorage.getItem('role'); // Fetch user role\r\n+  const token = localStorage.getItem('token');\r\n+\r\n+  // Fetch book data\r\n+  const { loading, error, data } = useQuery(BOOK, {\r\n+    variables: { \r\n+      bookId,\r\n+    },\r\n+    context: {\r\n+      headers: {\r\n+        Authorization: 'Bearer ' + token,\r\n+      },\r\n+    },\r\n+  });\r\n+   const book = data?.book;\r\n+\r\n+  const [deleteBook] = useMutation(DELETEBOOK);\r\n+  \r\n+  const handleDelete = async () => {\r\n+    if (!bookId) {\r\n+      alert('Invalid book ID.');\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const { data } = await deleteBook({\r\n+        variables: { deleteBookId: bookId },\r\n+        context: {\r\n+          headers: {\r\n+            Authorization: 'Bearer '+token\r\n+          },\r\n+        },\r\n+      });\r\n+      if (data?.deleteBook?.success) {\r\n+        alert('Book deleted successfully!');\r\n+        navigate('/home');\r\n+      } else {\r\n+        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n+      }\r\n+    } catch (err) {\r\n+      console.error('Error deleting book:', err);\r\n+      alert('An error occurred while deleting the book. Please try again.');\r\n+    }\r\n+  };\r\n+\r\n+  if (loading) return <p>Loading...</p>;\r\n+  if (error) return <p>Error: {error.message}</p>;\r\n+\r\n+  const handleUpdate = () => {\r\n+    navigate(`/admin/updateBook/${bookId}`);\r\n+  };\r\n+\r\n+  const handleDownload = () => {\r\n+    const pdfUrl = book.bookFile;\r\n+    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n+    if (!pdfUrl) {\r\n+      alert('File not available for download.');\r\n+      return;\r\n+    }\r\n+    saveAs(pdfUrl, pdfName); \r\n+  };\r\n+\r\n+  return (\r\n+    <div>\r\n+      <Navbar />\r\n+\r\n+      <div className=\"book-detail\">\r\n+        <img\r\n+          src={book.bookCover} \r\n+          alt={book.bookName}\r\n+          className=\"book-photo\"\r\n+        />\r\n+\r\n+        <div className=\"book-info\">\r\n+          <h1 className=\"book-title\">{book.bookName}</h1>\r\n+          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n+        </div>\r\n+\r\n+        <div style={{backgroundColor:'white', marginBottom:'20px'}}>\r\n+                 <h3 style={{paddingTop:'20px',textAlign:'center', color:'#070C70'}}>We need your support!</h3>\r\n+            <Link  className='donate-msg'  to='/donate' style={{ color:'#ff1493'}}> \r\n+        <p style={{ fontSize:'20px', textAlign:'center', paddingBottom:'40px'}}>\r\n+            Kindly click here to support us by donating funds that we need in order to be able to continue to deliver splendid .\r\n+            <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n+        </Link>  \r\n+           </div>\r\n+\r\n+        <div className=\"book-description\">\r\n+          <h3>Description</h3>\r\n+          <p className='desc'>{book.bookDescription}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"book-meta\">\r\n+          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n+          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"buttons-div\">\r\n+          {/* Download button */}\r\n+          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n+            Download \r\n+          </button>\r\n+\r\n+          {/* Admin icons for delete and edit */}\r\n+          {(role === 'admin' || role === 'superAdmin') && (\r\n+            <div className=\"admin-icons\">\r\n+              <FaTrash\r\n+                className=\"icon delete-icon\"\r\n+                title=\"Delete Book\"\r\n+                onClick={handleDelete}\r\n+              />\r\n+              <FaEdit\r\n+                className=\"icon edit-icon\"\r\n+                title=\"Update Book\"\r\n+                onClick={handleUpdate}\r\n+              />\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      </div>\r\n+      <Footer />\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Book;\r\n"
                },
                {
                    "date": 1736563389361,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,13 +93,13 @@\n         <div style={{backgroundColor:'white', marginBottom:'20px'}}>\r\n                  <h3 style={{paddingTop:'20px',textAlign:'center', color:'#070C70'}}>We need your support!</h3>\r\n             <Link  className='donate-msg'  to='/donate' style={{ color:'#ff1493'}}> \r\n         <p style={{ fontSize:'20px', textAlign:'center', paddingBottom:'40px'}}>\r\n-            Kindly click here to support us by donating funds that we need in order to be able to continue to deliver splendid .\r\n+            \r\n             <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n         </Link>  \r\n            </div>\r\n-\r\n+           Kindly click here to support us with a donation, helping us continue providing free access to an exceptional collection of African books.\r\n         <div className=\"book-description\">\r\n           <h3>Description</h3>\r\n           <p className='desc'>{book.bookDescription}</p>\r\n         </div>\r\n@@ -137,552 +137,4 @@\n   );\r\n };\r\n \r\n export default Book;\r\n-import '../css/Book.css';\r\n-import { useParams, useNavigate, Link } from \"react-router-dom\";\r\n-import Navbar from '../layout/Navbar.jsx';\r\n-import Footer from '../layout/Footer.jsx';\r\n-import { useQuery, useMutation } from '@apollo/client';\r\n-import { BOOK } from '../graphql/queries.js';\r\n-import { DELETEBOOK } from '../graphql/mutations.js';\r\n-import { FaTrash, FaEdit } from 'react-icons/fa';\r\n-import { saveAs } from 'file-saver';\r\n-import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n-\r\n-const Book = () => {\r\n-  const { bookId } = useParams(); // Get bookId from the route\r\n-  const navigate = useNavigate();\r\n-  const role = localStorage.getItem('role'); // Fetch user role\r\n-  const token = localStorage.getItem('token');\r\n-\r\n-  // Fetch book data\r\n-  const { loading, error, data } = useQuery(BOOK, {\r\n-    variables: { \r\n-      bookId,\r\n-    },\r\n-    context: {\r\n-      headers: {\r\n-        Authorization: 'Bearer ' + token,\r\n-      },\r\n-    },\r\n-  });\r\n-   const book = data?.book;\r\n-\r\n-  const [deleteBook] = useMutation(DELETEBOOK);\r\n-  \r\n-  const handleDelete = async () => {\r\n-    if (!bookId) {\r\n-      alert('Invalid book ID.');\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      const { data } = await deleteBook({\r\n-        variables: { deleteBookId: bookId },\r\n-        context: {\r\n-          headers: {\r\n-            Authorization: 'Bearer '+token\r\n-          },\r\n-        },\r\n-      });\r\n-      if (data?.deleteBook?.success) {\r\n-        alert('Book deleted successfully!');\r\n-        navigate('/home');\r\n-      } else {\r\n-        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n-      }\r\n-    } catch (err) {\r\n-      console.error('Error deleting book:', err);\r\n-      alert('An error occurred while deleting the book. Please try again.');\r\n-    }\r\n-  };\r\n-\r\n-  if (loading) return <p>Loading...</p>;\r\n-  if (error) return <p>Error: {error.message}</p>;\r\n-\r\n-  const handleUpdate = () => {\r\n-    navigate(`/admin/updateBook/${bookId}`);\r\n-  };\r\n-\r\n-  const handleDownload = () => {\r\n-    const pdfUrl = book.bookFile;\r\n-    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n-    if (!pdfUrl) {\r\n-      alert('File not available for download.');\r\n-      return;\r\n-    }\r\n-    saveAs(pdfUrl, pdfName); \r\n-  };\r\n-\r\n-  return (\r\n-    <div>\r\n-      <Navbar />\r\n-\r\n-      <div className=\"book-detail\">\r\n-        <img\r\n-          src={book.bookCover} \r\n-          alt={book.bookName}\r\n-          className=\"book-photo\"\r\n-        />\r\n-\r\n-        <div className=\"book-info\">\r\n-          <h1 className=\"book-title\">{book.bookName}</h1>\r\n-          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n-        </div>\r\n-        <div style={{backgroundColor:'white', marginBottom:'20px'}}>\r\n-                 <h3 style={{paddingTop:'20px',textAlign:'center', color:'#070C70'}}>We need your support!</h3>\r\n-            <Link  className='donate-msg'  to='/donate' style={{ color:'#ff1493'}}> \r\n-        <p style={{ fontSize:'20px', textAlign:'center', paddingBottom:'40px'}}>\r\n-            Kindly click here to support us by donating funds that we need in order to be able to continue to deliver splendid content.\r\n-            <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n-        </Link>  \r\n-           </div>\r\n-        <div className=\"book-description\">\r\n-          <h3>Description</h3>\r\n-          <p className='desc'>{book.bookDescription}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"book-meta\">\r\n-          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n-          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"buttons-div\">\r\n-          {/* Download button */}\r\n-          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n-            Download \r\n-          </button>\r\n-\r\n-          {/* Admin icons for delete and edit */}\r\n-          {(role === 'admin' || role === 'superAdmin') && (\r\n-            <div className=\"admin-icons\">\r\n-              <FaTrash\r\n-                className=\"icon delete-icon\"\r\n-                title=\"Delete Book\"\r\n-                onClick={handleDelete}\r\n-              />\r\n-              <FaEdit\r\n-                className=\"icon edit-icon\"\r\n-                title=\"Update Book\"\r\n-                onClick={handleUpdate}\r\n-              />\r\n-            </div>\r\n-          )}\r\n-        </div>\r\n-      </div>\r\n-      <Footer />\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default Book;\r\n-import '../css/Book.css';\r\n-import { useParams, useNavigate, Link } from \"react-router-dom\";\r\n-import Navbar from '../layout/Navbar.jsx';\r\n-import Footer from '../layout/Footer.jsx';\r\n-import { useQuery, useMutation } from '@apollo/client';\r\n-import { BOOK } from '../graphql/queries.js';\r\n-import { DELETEBOOK } from '../graphql/mutations.js';\r\n-import { FaTrash, FaEdit } from 'react-icons/fa';\r\n-import { saveAs } from 'file-saver';\r\n-import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n-\r\n-const Book = () => {\r\n-  const { bookId } = useParams(); // Get bookId from the route\r\n-  const navigate = useNavigate();\r\n-  const role = localStorage.getItem('role'); // Fetch user role\r\n-  const token = localStorage.getItem('token');\r\n-\r\n-  // Fetch book data\r\n-  const { loading, error, data } = useQuery(BOOK, {\r\n-    variables: { \r\n-      bookId,\r\n-    },\r\n-    context: {\r\n-      headers: {\r\n-        Authorization: 'Bearer ' + token,\r\n-      },\r\n-    },\r\n-  });\r\n-   const book = data?.book;\r\n-\r\n-  const [deleteBook] = useMutation(DELETEBOOK);\r\n-  \r\n-  const handleDelete = async () => {\r\n-    if (!bookId) {\r\n-      alert('Invalid book ID.');\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      const { data } = await deleteBook({\r\n-        variables: { deleteBookId: bookId },\r\n-        context: {\r\n-          headers: {\r\n-            Authorization: 'Bearer '+token\r\n-          },\r\n-        },\r\n-      });\r\n-      if (data?.deleteBook?.success) {\r\n-        alert('Book deleted successfully!');\r\n-        navigate('/home');\r\n-      } else {\r\n-        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n-      }\r\n-    } catch (err) {\r\n-      console.error('Error deleting book:', err);\r\n-      alert('An error occurred while deleting the book. Please try again.');\r\n-    }\r\n-  };\r\n-\r\n-  if (loading) return <p>Loading...</p>;\r\n-  if (error) return <p>Error: {error.message}</p>;\r\n-\r\n-  const handleUpdate = () => {\r\n-    navigate(`/admin/updateBook/${bookId}`);\r\n-  };\r\n-\r\n-  const handleDownload = () => {\r\n-    const pdfUrl = book.bookFile;\r\n-    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n-    if (!pdfUrl) {\r\n-      alert('File not available for download.');\r\n-      return;\r\n-    }\r\n-    saveAs(pdfUrl, pdfName); \r\n-  };\r\n-\r\n-  return (\r\n-    <div>\r\n-      <Navbar />\r\n-      \r\n-\r\n-      <div className=\"book-detail\">\r\n-        <img\r\n-          src={book.bookCover} \r\n-          alt={book.bookName}\r\n-          className=\"book-photo\"\r\n-        />\r\n-\r\n-        <div className=\"book-info\">\r\n-          <h1 className=\"book-title\">{book.bookName}</h1>\r\n-          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"book-description\">\r\n-          <h3>Description</h3>\r\n-          <p className='desc'>{book.bookDescription}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"book-meta\">\r\n-          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n-          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"buttons-div\">\r\n-          {/* Download button */}\r\n-          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n-            Download \r\n-          </button>\r\n-\r\n-          {/* Admin icons for delete and edit */}\r\n-          {(role === 'admin' || role === 'superAdmin') && (\r\n-            <div className=\"admin-icons\">\r\n-              <FaTrash\r\n-                className=\"icon delete-icon\"\r\n-                title=\"Delete Book\"\r\n-                onClick={handleDelete}\r\n-              />\r\n-              <FaEdit\r\n-                className=\"icon edit-icon\"\r\n-                title=\"Update Book\"\r\n-                onClick={handleUpdate}\r\n-              />\r\n-            </div>\r\n-          )}\r\n-        </div>\r\n-      </div>\r\n-      <Footer />\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default Book;\r\n-import '../css/Book.css';\r\n-import { useParams, useNavigate, L } from \"react-router-dom\";\r\n-import Navbar from '../layout/Navbar.jsx';\r\n-import Footer from '../layout/Footer.jsx';\r\n-import { useQuery, useMutation } from '@apollo/client';\r\n-import { BOOK } from '../graphql/queries.js';\r\n-import { DELETEBOOK } from '../graphql/mutations.js';\r\n-import { FaTrash, FaEdit } from 'react-icons/fa';\r\n-import { saveAs } from 'file-saver';\r\n-import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n-\r\n-const Book = () => {\r\n-  const { bookId } = useParams(); // Get bookId from the route\r\n-  const navigate = useNavigate();\r\n-  const role = localStorage.getItem('role'); // Fetch user role\r\n-  const token = localStorage.getItem('token');\r\n-\r\n-  // Fetch book data\r\n-  const { loading, error, data } = useQuery(BOOK, {\r\n-    variables: { \r\n-      bookId,\r\n-    },\r\n-    context: {\r\n-      headers: {\r\n-        Authorization: 'Bearer ' + token,\r\n-      },\r\n-    },\r\n-  });\r\n-   const book = data?.book;\r\n-\r\n-  const [deleteBook] = useMutation(DELETEBOOK);\r\n-  \r\n-  const handleDelete = async () => {\r\n-    if (!bookId) {\r\n-      alert('Invalid book ID.');\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      const { data } = await deleteBook({\r\n-        variables: { deleteBookId: bookId },\r\n-        context: {\r\n-          headers: {\r\n-            Authorization: 'Bearer '+token\r\n-          },\r\n-        },\r\n-      });\r\n-      if (data?.deleteBook?.success) {\r\n-        alert('Book deleted successfully!');\r\n-        navigate('/home');\r\n-      } else {\r\n-        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n-      }\r\n-    } catch (err) {\r\n-      console.error('Error deleting book:', err);\r\n-      alert('An error occurred while deleting the book. Please try again.');\r\n-    }\r\n-  };\r\n-\r\n-  if (loading) return <p>Loading...</p>;\r\n-  if (error) return <p>Error: {error.message}</p>;\r\n-\r\n-  const handleUpdate = () => {\r\n-    navigate(`/admin/updateBook/${bookId}`);\r\n-  };\r\n-\r\n-  const handleDownload = () => {\r\n-    const pdfUrl = book.bookFile;\r\n-    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n-    if (!pdfUrl) {\r\n-      alert('File not available for download.');\r\n-      return;\r\n-    }\r\n-    saveAs(pdfUrl, pdfName); \r\n-  };\r\n-\r\n-  return (\r\n-    <div>\r\n-      <Navbar />\r\n-      <div style={{backgroundColor:'white', marginBottom:'20px'}}>\r\n-                 <h3 style={{paddingTop:'20px',textAlign:'center', color:'#070C70'}}>We need your support!</h3>\r\n-            <Link  className='donate-msg'  to='/donate' style={{ color:'#ff1493'}}> \r\n-        <p style={{ fontSize:'20px', textAlign:'center', paddingBottom:'40px'}}>\r\n-            Kindly click here to support us by donating funds that we need in order to be able to continue to deliver splendid content.\r\n-            <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n-        </Link>  \r\n-           </div>\r\n-\r\n-      <div className=\"book-detail\">\r\n-        <img\r\n-          src={book.bookCover} \r\n-          alt={book.bookName}\r\n-          className=\"book-photo\"\r\n-        />\r\n-\r\n-        <div className=\"book-info\">\r\n-          <h1 className=\"book-title\">{book.bookName}</h1>\r\n-          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"book-description\">\r\n-          <h3>Description</h3>\r\n-          <p className='desc'>{book.bookDescription}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"book-meta\">\r\n-          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n-          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"buttons-div\">\r\n-          {/* Download button */}\r\n-          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n-            Download \r\n-          </button>\r\n-\r\n-          {/* Admin icons for delete and edit */}\r\n-          {(role === 'admin' || role === 'superAdmin') && (\r\n-            <div className=\"admin-icons\">\r\n-              <FaTrash\r\n-                className=\"icon delete-icon\"\r\n-                title=\"Delete Book\"\r\n-                onClick={handleDelete}\r\n-              />\r\n-              <FaEdit\r\n-                className=\"icon edit-icon\"\r\n-                title=\"Update Book\"\r\n-                onClick={handleUpdate}\r\n-              />\r\n-            </div>\r\n-          )}\r\n-        </div>\r\n-      </div>\r\n-      <Footer />\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default Book;\r\n-import '../css/Book.css';\r\n-import { useParams, useNavigate } from \"react-router-dom\";\r\n-import Navbar from '../layout/Navbar.jsx';\r\n-import Footer from '../layout/Footer.jsx';\r\n-import { useQuery, useMutation } from '@apollo/client';\r\n-import { BOOK } from '../graphql/queries.js';\r\n-import { DELETEBOOK } from '../graphql/mutations.js';\r\n-import { FaTrash, FaEdit } from 'react-icons/fa';\r\n-import { saveAs } from 'file-saver';\r\n-import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n-\r\n-const Book = () => {\r\n-  const { bookId } = useParams(); // Get bookId from the route\r\n-  const navigate = useNavigate();\r\n-  const role = localStorage.getItem('role'); // Fetch user role\r\n-  const token = localStorage.getItem('token');\r\n-\r\n-  // Fetch book data\r\n-  const { loading, error, data } = useQuery(BOOK, {\r\n-    variables: { \r\n-      bookId,\r\n-    },\r\n-    context: {\r\n-      headers: {\r\n-        Authorization: 'Bearer ' + token,\r\n-      },\r\n-    },\r\n-  });\r\n-   const book = data?.book;\r\n-\r\n-  const [deleteBook] = useMutation(DELETEBOOK);\r\n-  \r\n-  const handleDelete = async () => {\r\n-    if (!bookId) {\r\n-      alert('Invalid book ID.');\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      const { data } = await deleteBook({\r\n-        variables: { deleteBookId: bookId },\r\n-        context: {\r\n-          headers: {\r\n-            Authorization: 'Bearer '+token\r\n-          },\r\n-        },\r\n-      });\r\n-      if (data?.deleteBook?.success) {\r\n-        alert('Book deleted successfully!');\r\n-        navigate('/home');\r\n-      } else {\r\n-        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n-      }\r\n-    } catch (err) {\r\n-      console.error('Error deleting book:', err);\r\n-      alert('An error occurred while deleting the book. Please try again.');\r\n-    }\r\n-  };\r\n-\r\n-  if (loading) return <p>Loading...</p>;\r\n-  if (error) return <p>Error: {error.message}</p>;\r\n-\r\n-  const handleUpdate = () => {\r\n-    navigate(`/admin/updateBook/${bookId}`);\r\n-  };\r\n-\r\n-  const handleDownload = () => {\r\n-    const pdfUrl = book.bookFile;\r\n-    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n-    if (!pdfUrl) {\r\n-      alert('File not available for download.');\r\n-      return;\r\n-    }\r\n-    saveAs(pdfUrl, pdfName); \r\n-  };\r\n-\r\n-  return (\r\n-    <div>\r\n-      <Navbar />\r\n-      <div style={{backgroundColor:'white', marginBottom:'20px'}}>\r\n-                 <h3 style={{paddingTop:'20px',textAlign:'center', color:'#070C70'}}>We need your support!</h3>\r\n-            <Link  className='donate-msg'  to='/donate' style={{ color:'#ff1493'}}> \r\n-        <p style={{ fontSize:'20px', textAlign:'center', paddingBottom:'40px'}}>\r\n-            Kindly click here to support us by donating funds that we need in order to be able to continue to deliver splendid content.\r\n-            <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n-        </Link>  \r\n-           </div>\r\n-           \r\n-      <div className=\"book-detail\">\r\n-        <img\r\n-          src={book.bookCover} \r\n-          alt={book.bookName}\r\n-          className=\"book-photo\"\r\n-        />\r\n-\r\n-        <div className=\"book-info\">\r\n-          <h1 className=\"book-title\">{book.bookName}</h1>\r\n-          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"book-description\">\r\n-          <h3>Description</h3>\r\n-          <p className='desc'>{book.bookDescription}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"book-meta\">\r\n-          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n-          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"buttons-div\">\r\n-          {/* Download button */}\r\n-          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n-            Download \r\n-          </button>\r\n-\r\n-          {/* Admin icons for delete and edit */}\r\n-          {(role === 'admin' || role === 'superAdmin') && (\r\n-            <div className=\"admin-icons\">\r\n-              <FaTrash\r\n-                className=\"icon delete-icon\"\r\n-                title=\"Delete Book\"\r\n-                onClick={handleDelete}\r\n-              />\r\n-              <FaEdit\r\n-                className=\"icon edit-icon\"\r\n-                title=\"Update Book\"\r\n-                onClick={handleUpdate}\r\n-              />\r\n-            </div>\r\n-          )}\r\n-        </div>\r\n-      </div>\r\n-      <Footer />\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default Book;\r\n"
                },
                {
                    "date": 1736563404259,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,9 +97,9 @@\n             \r\n             <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n         </Link>  \r\n            </div>\r\n-           Kindly click here to support us with a donation, helping us continue providing free access to an exceptional collection of African books.\r\n+           Kindly click here to support us with a donation, helping us continue providing free access to an exceptional collection of African .\r\n         <div className=\"book-description\">\r\n           <h3>Description</h3>\r\n           <p className='desc'>{book.bookDescription}</p>\r\n         </div>\r\n"
                },
                {
                    "date": 1736563442075,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,140 @@\n+import '../css/Book.css';\r\n+import { useParams, useNavigate, Link } from \"react-router-dom\";\r\n+import Navbar from '../layout/Navbar.jsx';\r\n+import Footer from '../layout/Footer.jsx';\r\n+import { useQuery, useMutation } from '@apollo/client';\r\n+import { BOOK } from '../graphql/queries.js';\r\n+import { DELETEBOOK } from '../graphql/mutations.js';\r\n+import { FaTrash, FaEdit } from 'react-icons/fa';\r\n+import { saveAs } from 'file-saver';\r\n+import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n+\r\n+const Book = () => {\r\n+  const { bookId } = useParams(); // Get bookId from the route\r\n+  const navigate = useNavigate();\r\n+  const role = localStorage.getItem('role'); // Fetch user role\r\n+  const token = localStorage.getItem('token');\r\n+\r\n+  // Fetch book data\r\n+  const { loading, error, data } = useQuery(BOOK, {\r\n+    variables: { \r\n+      bookId,\r\n+    },\r\n+    context: {\r\n+      headers: {\r\n+        Authorization: 'Bearer ' + token,\r\n+      },\r\n+    },\r\n+  });\r\n+   const book = data?.book;\r\n+\r\n+  const [deleteBook] = useMutation(DELETEBOOK);\r\n+  \r\n+  const handleDelete = async () => {\r\n+    if (!bookId) {\r\n+      alert('Invalid book ID.');\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const { data } = await deleteBook({\r\n+        variables: { deleteBookId: bookId },\r\n+        context: {\r\n+          headers: {\r\n+            Authorization: 'Bearer '+token\r\n+          },\r\n+        },\r\n+      });\r\n+      if (data?.deleteBook?.success) {\r\n+        alert('Book deleted successfully!');\r\n+        navigate('/home');\r\n+      } else {\r\n+        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n+      }\r\n+    } catch (err) {\r\n+      console.error('Error deleting book:', err);\r\n+      alert('An error occurred while deleting the book. Please try again.');\r\n+    }\r\n+  };\r\n+\r\n+  if (loading) return <p>Loading...</p>;\r\n+  if (error) return <p>Error: {error.message}</p>;\r\n+\r\n+  const handleUpdate = () => {\r\n+    navigate(`/admin/updateBook/${bookId}`);\r\n+  };\r\n+\r\n+  const handleDownload = () => {\r\n+    const pdfUrl = book.bookFile;\r\n+    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n+    if (!pdfUrl) {\r\n+      alert('File not available for download.');\r\n+      return;\r\n+    }\r\n+    saveAs(pdfUrl, pdfName); \r\n+  };\r\n+\r\n+  return (\r\n+    <div>\r\n+      <Navbar />\r\n+\r\n+      <div className=\"book-detail\">\r\n+        <img\r\n+          src={book.bookCover} \r\n+          alt={book.bookName}\r\n+          className=\"book-photo\"\r\n+        />\r\n+\r\n+        <div className=\"book-info\">\r\n+          <h1 className=\"book-title\">{book.bookName}</h1>\r\n+          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n+        </div>\r\n+\r\n+        <div style={{backgroundColor:'white', marginBottom:'20px'}}>\r\n+                 <h3 style={{paddingTop:'20px',textAlign:'center', color:'#070C70'}}>We need your support!</h3>\r\n+            <Link  className='donate-msg'  to='/donate' style={{ color:'#ff1493'}}> \r\n+        <p style={{ fontSize:'20px', textAlign:'center', paddingBottom:'40px'}}>\r\n+            \r\n+            <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n+        </Link>  \r\n+           </div>\r\n+           Kindly click here to support us with a donation, helping us continue providing free access to an exceptional collection of African books.\r\n+        <div className=\"book-description\">\r\n+          <h3>Description</h3>\r\n+          <p className='desc'>{book.bookDescription}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"book-meta\">\r\n+          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n+          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"buttons-div\">\r\n+          {/* Download button */}\r\n+          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n+            Download \r\n+          </button>\r\n+\r\n+          {/* Admin icons for delete and edit */}\r\n+          {(role === 'admin' || role === 'superAdmin') && (\r\n+            <div className=\"admin-icons\">\r\n+              <FaTrash\r\n+                className=\"icon delete-icon\"\r\n+                title=\"Delete Book\"\r\n+                onClick={handleDelete}\r\n+              />\r\n+              <FaEdit\r\n+                className=\"icon edit-icon\"\r\n+                title=\"Update Book\"\r\n+                onClick={handleUpdate}\r\n+              />\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      </div>\r\n+      <Footer />\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Book;\r\n"
                },
                {
                    "date": 1736563450244,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,140 @@\n+import '../css/Book.css';\r\n+import { useParams, useNavigate, Link } from \"react-router-dom\";\r\n+import Navbar from '../layout/Navbar.jsx';\r\n+import Footer from '../layout/Footer.jsx';\r\n+import { useQuery, useMutation } from '@apollo/client';\r\n+import { BOOK } from '../graphql/queries.js';\r\n+import { DELETEBOOK } from '../graphql/mutations.js';\r\n+import { FaTrash, FaEdit } from 'react-icons/fa';\r\n+import { saveAs } from 'file-saver';\r\n+import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n+\r\n+const Book = () => {\r\n+  const { bookId } = useParams(); // Get bookId from the route\r\n+  const navigate = useNavigate();\r\n+  const role = localStorage.getItem('role'); // Fetch user role\r\n+  const token = localStorage.getItem('token');\r\n+\r\n+  // Fetch book data\r\n+  const { loading, error, data } = useQuery(BOOK, {\r\n+    variables: { \r\n+      bookId,\r\n+    },\r\n+    context: {\r\n+      headers: {\r\n+        Authorization: 'Bearer ' + token,\r\n+      },\r\n+    },\r\n+  });\r\n+   const book = data?.book;\r\n+\r\n+  const [deleteBook] = useMutation(DELETEBOOK);\r\n+  \r\n+  const handleDelete = async () => {\r\n+    if (!bookId) {\r\n+      alert('Invalid book ID.');\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const { data } = await deleteBook({\r\n+        variables: { deleteBookId: bookId },\r\n+        context: {\r\n+          headers: {\r\n+            Authorization: 'Bearer '+token\r\n+          },\r\n+        },\r\n+      });\r\n+      if (data?.deleteBook?.success) {\r\n+        alert('Book deleted successfully!');\r\n+        navigate('/home');\r\n+      } else {\r\n+        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n+      }\r\n+    } catch (err) {\r\n+      console.error('Error deleting book:', err);\r\n+      alert('An error occurred while deleting the book. Please try again.');\r\n+    }\r\n+  };\r\n+\r\n+  if (loading) return <p>Loading...</p>;\r\n+  if (error) return <p>Error: {error.message}</p>;\r\n+\r\n+  const handleUpdate = () => {\r\n+    navigate(`/admin/updateBook/${bookId}`);\r\n+  };\r\n+\r\n+  const handleDownload = () => {\r\n+    const pdfUrl = book.bookFile;\r\n+    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n+    if (!pdfUrl) {\r\n+      alert('File not available for download.');\r\n+      return;\r\n+    }\r\n+    saveAs(pdfUrl, pdfName); \r\n+  };\r\n+\r\n+  return (\r\n+    <div>\r\n+      <Navbar />\r\n+\r\n+      <div className=\"book-detail\">\r\n+        <img\r\n+          src={book.bookCover} \r\n+          alt={book.bookName}\r\n+          className=\"book-photo\"\r\n+        />\r\n+\r\n+        <div className=\"book-info\">\r\n+          <h1 className=\"book-title\">{book.bookName}</h1>\r\n+          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n+        </div>\r\n+\r\n+        <div style={{backgroundColor:'white', marginBottom:'20px'}}>\r\n+                 <h3 style={{paddingTop:'20px',textAlign:'center', color:'#070C70'}}>We need your support!</h3>\r\n+            <Link  className='donate-msg'  to='/donate' style={{ color:'#ff1493'}}> \r\n+        <p style={{ fontSize:'20px', textAlign:'center', paddingBottom:'40px'}}>\r\n+            \r\n+            <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n+        </Link>  \r\n+           </div>\r\n+\r\n+        <div className=\"book-description\">\r\n+          <h3>Description</h3>\r\n+          <p className='desc'>{book.bookDescription}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"book-meta\">\r\n+          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n+          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"buttons-div\">\r\n+          {/* Download button */}\r\n+          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n+            Download \r\n+          </button>\r\n+\r\n+          {/* Admin icons for delete and edit */}\r\n+          {(role === 'admin' || role === 'superAdmin') && (\r\n+            <div className=\"admin-icons\">\r\n+              <FaTrash\r\n+                className=\"icon delete-icon\"\r\n+                title=\"Delete Book\"\r\n+                onClick={handleDelete}\r\n+              />\r\n+              <FaEdit\r\n+                className=\"icon edit-icon\"\r\n+                title=\"Update Book\"\r\n+                onClick={handleUpdate}\r\n+              />\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      </div>\r\n+      <Footer />\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Book;\r\n"
                },
                {
                    "date": 1736563459553,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,9 +93,9 @@\n         <div style={{backgroundColor:'white', marginBottom:'20px'}}>\r\n                  <h3 style={{paddingTop:'20px',textAlign:'center', color:'#070C70'}}>We need your support!</h3>\r\n             <Link  className='donate-msg'  to='/donate' style={{ color:'#ff1493'}}> \r\n         <p style={{ fontSize:'20px', textAlign:'center', paddingBottom:'40px'}}>\r\n-            \r\n+        Kindly click here to support us with a donation, helping us continue providing free access to an exceptional collection of African Literature.\r\n             <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n         </Link>  \r\n            </div>\r\n \r\n@@ -137,284 +137,4 @@\n   );\r\n };\r\n \r\n export default Book;\r\n-import '../css/Book.css';\r\n-import { useParams, useNavigate, Link } from \"react-router-dom\";\r\n-import Navbar from '../layout/Navbar.jsx';\r\n-import Footer from '../layout/Footer.jsx';\r\n-import { useQuery, useMutation } from '@apollo/client';\r\n-import { BOOK } from '../graphql/queries.js';\r\n-import { DELETEBOOK } from '../graphql/mutations.js';\r\n-import { FaTrash, FaEdit } from 'react-icons/fa';\r\n-import { saveAs } from 'file-saver';\r\n-import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n-\r\n-const Book = () => {\r\n-  const { bookId } = useParams(); // Get bookId from the route\r\n-  const navigate = useNavigate();\r\n-  const role = localStorage.getItem('role'); // Fetch user role\r\n-  const token = localStorage.getItem('token');\r\n-\r\n-  // Fetch book data\r\n-  const { loading, error, data } = useQuery(BOOK, {\r\n-    variables: { \r\n-      bookId,\r\n-    },\r\n-    context: {\r\n-      headers: {\r\n-        Authorization: 'Bearer ' + token,\r\n-      },\r\n-    },\r\n-  });\r\n-   const book = data?.book;\r\n-\r\n-  const [deleteBook] = useMutation(DELETEBOOK);\r\n-  \r\n-  const handleDelete = async () => {\r\n-    if (!bookId) {\r\n-      alert('Invalid book ID.');\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      const { data } = await deleteBook({\r\n-        variables: { deleteBookId: bookId },\r\n-        context: {\r\n-          headers: {\r\n-            Authorization: 'Bearer '+token\r\n-          },\r\n-        },\r\n-      });\r\n-      if (data?.deleteBook?.success) {\r\n-        alert('Book deleted successfully!');\r\n-        navigate('/home');\r\n-      } else {\r\n-        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n-      }\r\n-    } catch (err) {\r\n-      console.error('Error deleting book:', err);\r\n-      alert('An error occurred while deleting the book. Please try again.');\r\n-    }\r\n-  };\r\n-\r\n-  if (loading) return <p>Loading...</p>;\r\n-  if (error) return <p>Error: {error.message}</p>;\r\n-\r\n-  const handleUpdate = () => {\r\n-    navigate(`/admin/updateBook/${bookId}`);\r\n-  };\r\n-\r\n-  const handleDownload = () => {\r\n-    const pdfUrl = book.bookFile;\r\n-    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n-    if (!pdfUrl) {\r\n-      alert('File not available for download.');\r\n-      return;\r\n-    }\r\n-    saveAs(pdfUrl, pdfName); \r\n-  };\r\n-\r\n-  return (\r\n-    <div>\r\n-      <Navbar />\r\n-\r\n-      <div className=\"book-detail\">\r\n-        <img\r\n-          src={book.bookCover} \r\n-          alt={book.bookName}\r\n-          className=\"book-photo\"\r\n-        />\r\n-\r\n-        <div className=\"book-info\">\r\n-          <h1 className=\"book-title\">{book.bookName}</h1>\r\n-          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n-        </div>\r\n-\r\n-        <div style={{backgroundColor:'white', marginBottom:'20px'}}>\r\n-                 <h3 style={{paddingTop:'20px',textAlign:'center', color:'#070C70'}}>We need your support!</h3>\r\n-            <Link  className='donate-msg'  to='/donate' style={{ color:'#ff1493'}}> \r\n-        <p style={{ fontSize:'20px', textAlign:'center', paddingBottom:'40px'}}>\r\n-            \r\n-            <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n-        </Link>  \r\n-           </div>\r\n-           Kindly click here to support us with a donation, helping us continue providing free access to an exceptional collection of African books.\r\n-        <div className=\"book-description\">\r\n-          <h3>Description</h3>\r\n-          <p className='desc'>{book.bookDescription}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"book-meta\">\r\n-          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n-          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"buttons-div\">\r\n-          {/* Download button */}\r\n-          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n-            Download \r\n-          </button>\r\n-\r\n-          {/* Admin icons for delete and edit */}\r\n-          {(role === 'admin' || role === 'superAdmin') && (\r\n-            <div className=\"admin-icons\">\r\n-              <FaTrash\r\n-                className=\"icon delete-icon\"\r\n-                title=\"Delete Book\"\r\n-                onClick={handleDelete}\r\n-              />\r\n-              <FaEdit\r\n-                className=\"icon edit-icon\"\r\n-                title=\"Update Book\"\r\n-                onClick={handleUpdate}\r\n-              />\r\n-            </div>\r\n-          )}\r\n-        </div>\r\n-      </div>\r\n-      <Footer />\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default Book;\r\n-import '../css/Book.css';\r\n-import { useParams, useNavigate, Link } from \"react-router-dom\";\r\n-import Navbar from '../layout/Navbar.jsx';\r\n-import Footer from '../layout/Footer.jsx';\r\n-import { useQuery, useMutation } from '@apollo/client';\r\n-import { BOOK } from '../graphql/queries.js';\r\n-import { DELETEBOOK } from '../graphql/mutations.js';\r\n-import { FaTrash, FaEdit } from 'react-icons/fa';\r\n-import { saveAs } from 'file-saver';\r\n-import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n-\r\n-const Book = () => {\r\n-  const { bookId } = useParams(); // Get bookId from the route\r\n-  const navigate = useNavigate();\r\n-  const role = localStorage.getItem('role'); // Fetch user role\r\n-  const token = localStorage.getItem('token');\r\n-\r\n-  // Fetch book data\r\n-  const { loading, error, data } = useQuery(BOOK, {\r\n-    variables: { \r\n-      bookId,\r\n-    },\r\n-    context: {\r\n-      headers: {\r\n-        Authorization: 'Bearer ' + token,\r\n-      },\r\n-    },\r\n-  });\r\n-   const book = data?.book;\r\n-\r\n-  const [deleteBook] = useMutation(DELETEBOOK);\r\n-  \r\n-  const handleDelete = async () => {\r\n-    if (!bookId) {\r\n-      alert('Invalid book ID.');\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      const { data } = await deleteBook({\r\n-        variables: { deleteBookId: bookId },\r\n-        context: {\r\n-          headers: {\r\n-            Authorization: 'Bearer '+token\r\n-          },\r\n-        },\r\n-      });\r\n-      if (data?.deleteBook?.success) {\r\n-        alert('Book deleted successfully!');\r\n-        navigate('/home');\r\n-      } else {\r\n-        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n-      }\r\n-    } catch (err) {\r\n-      console.error('Error deleting book:', err);\r\n-      alert('An error occurred while deleting the book. Please try again.');\r\n-    }\r\n-  };\r\n-\r\n-  if (loading) return <p>Loading...</p>;\r\n-  if (error) return <p>Error: {error.message}</p>;\r\n-\r\n-  const handleUpdate = () => {\r\n-    navigate(`/admin/updateBook/${bookId}`);\r\n-  };\r\n-\r\n-  const handleDownload = () => {\r\n-    const pdfUrl = book.bookFile;\r\n-    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n-    if (!pdfUrl) {\r\n-      alert('File not available for download.');\r\n-      return;\r\n-    }\r\n-    saveAs(pdfUrl, pdfName); \r\n-  };\r\n-\r\n-  return (\r\n-    <div>\r\n-      <Navbar />\r\n-\r\n-      <div className=\"book-detail\">\r\n-        <img\r\n-          src={book.bookCover} \r\n-          alt={book.bookName}\r\n-          className=\"book-photo\"\r\n-        />\r\n-\r\n-        <div className=\"book-info\">\r\n-          <h1 className=\"book-title\">{book.bookName}</h1>\r\n-          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n-        </div>\r\n-\r\n-        <div style={{backgroundColor:'white', marginBottom:'20px'}}>\r\n-                 <h3 style={{paddingTop:'20px',textAlign:'center', color:'#070C70'}}>We need your support!</h3>\r\n-            <Link  className='donate-msg'  to='/donate' style={{ color:'#ff1493'}}> \r\n-        <p style={{ fontSize:'20px', textAlign:'center', paddingBottom:'40px'}}>\r\n-            \r\n-            <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n-        </Link>  \r\n-           </div>\r\n-           Kindly click here to support us with a donation, helping us continue providing free access to an exceptional collection of African .\r\n-        <div className=\"book-description\">\r\n-          <h3>Description</h3>\r\n-          <p className='desc'>{book.bookDescription}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"book-meta\">\r\n-          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n-          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"buttons-div\">\r\n-          {/* Download button */}\r\n-          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n-            Download \r\n-          </button>\r\n-\r\n-          {/* Admin icons for delete and edit */}\r\n-          {(role === 'admin' || role === 'superAdmin') && (\r\n-            <div className=\"admin-icons\">\r\n-              <FaTrash\r\n-                className=\"icon delete-icon\"\r\n-                title=\"Delete Book\"\r\n-                onClick={handleDelete}\r\n-              />\r\n-              <FaEdit\r\n-                className=\"icon edit-icon\"\r\n-                title=\"Update Book\"\r\n-                onClick={handleUpdate}\r\n-              />\r\n-            </div>\r\n-          )}\r\n-        </div>\r\n-      </div>\r\n-      <Footer />\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default Book;\r\n"
                },
                {
                    "date": 1736563662072,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,141 @@\n+import '../css/Book.css';\r\n+import { useParams, useNavigate, Link } from \"react-router-dom\";\r\n+import Navbar from '../layout/Navbar.jsx';\r\n+import Footer from '../layout/Footer.jsx';\r\n+import { useQuery, useMutation } from '@apollo/client';\r\n+import { BOOK } from '../graphql/queries.js';\r\n+import { DELETEBOOK } from '../graphql/mutations.js';\r\n+import { FaTrash, FaEdit } from 'react-icons/fa';\r\n+import { saveAs } from 'file-saver';\r\n+import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n+\r\n+const Book = () => {\r\n+  const { bookId } = useParams(); // Get bookId from the route\r\n+  const navigate = useNavigate();\r\n+  const role = localStorage.getItem('role'); // Fetch user role\r\n+  const token = localStorage.getItem('token');\r\n+\r\n+  // Fetch book data\r\n+  const { loading, error, data } = useQuery(BOOK, {\r\n+    variables: { \r\n+      bookId,\r\n+    },\r\n+    context: {\r\n+      headers: {\r\n+        Authorization: 'Bearer ' + token,\r\n+      },\r\n+    },\r\n+  });\r\n+   const book = data?.book;\r\n+\r\n+  const [deleteBook] = useMutation(DELETEBOOK);\r\n+  \r\n+  const handleDelete = async () => {\r\n+    if (!bookId) {\r\n+      alert('Invalid book ID.');\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const { data } = await deleteBook({\r\n+        variables: { deleteBookId: bookId },\r\n+        context: {\r\n+          headers: {\r\n+            Authorization: 'Bearer '+token\r\n+          },\r\n+        },\r\n+      });\r\n+      if (data?.deleteBook?.success) {\r\n+        alert('Book deleted successfully!');\r\n+        navigate('/home');\r\n+      } else {\r\n+        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n+      }\r\n+    } catch (err) {\r\n+      console.error('Error deleting book:', err);\r\n+      alert('An error occurred while deleting the book. Please try again.');\r\n+    }\r\n+  };\r\n+\r\n+  if (loading) return <p>Loading...</p>;\r\n+  if (error) return <p>Error: {error.message}</p>;\r\n+\r\n+  const handleUpdate = () => {\r\n+    navigate(`/admin/updateBook/${bookId}`);\r\n+  };\r\n+\r\n+  const handleDownload = () => {\r\n+    const pdfUrl = book.bookFile;\r\n+    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n+    if (!pdfUrl) {\r\n+      alert('File not available for download.');\r\n+      return;\r\n+    }\r\n+    saveAs(pdfUrl, pdfName); \r\n+  };\r\n+\r\n+  return (\r\n+    <div>\r\n+      <Navbar />\r\n+\r\n+      <div className=\"book-detail\">\r\n+        <img\r\n+          src={book.bookCover} \r\n+          alt={book.bookName}\r\n+          className=\"book-photo\"\r\n+        />\r\n+\r\n+        <div className=\"book-info\">\r\n+          <h1 className=\"book-title\">{book.bookName}</h1>\r\n+          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n+        </div>\r\n+\r\n+        <div style={{backgroundColor:'white', marginBottom:'20px'}}>\r\n+                 <h3 style={{paddingTop:'20px',textAlign:'center', color:'#ff1493''#070C70'}}>We need your support!</h3>\r\n+            <Link  className='donate-msg'  to='/donate' style={{ color:}}> \r\n+        <p style={{ fontSize:'20px', textAlign:'center', paddingBottom:'40px'}}>\r\n+        Kindly click here to support us with a donation, helping us continue \r\n+        providing free access to an exceptional collection of African Literature.\r\n+            <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n+        </Link>  \r\n+           </div>\r\n+\r\n+        <div className=\"book-description\">\r\n+          <h3>Description</h3>\r\n+          <p className='desc'>{book.bookDescription}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"book-meta\">\r\n+          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n+          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"buttons-div\">\r\n+          {/* Download button */}\r\n+          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n+            Download \r\n+          </button>\r\n+\r\n+          {/* Admin icons for delete and edit */}\r\n+          {(role === 'admin' || role === 'superAdmin') && (\r\n+            <div className=\"admin-icons\">\r\n+              <FaTrash\r\n+                className=\"icon delete-icon\"\r\n+                title=\"Delete Book\"\r\n+                onClick={handleDelete}\r\n+              />\r\n+              <FaEdit\r\n+                className=\"icon edit-icon\"\r\n+                title=\"Update Book\"\r\n+                onClick={handleUpdate}\r\n+              />\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      </div>\r\n+      <Footer />\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Book;\r\n"
                },
                {
                    "date": 1736563670592,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,141 @@\n+import '../css/Book.css';\r\n+import { useParams, useNavigate, Link } from \"react-router-dom\";\r\n+import Navbar from '../layout/Navbar.jsx';\r\n+import Footer from '../layout/Footer.jsx';\r\n+import { useQuery, useMutation } from '@apollo/client';\r\n+import { BOOK } from '../graphql/queries.js';\r\n+import { DELETEBOOK } from '../graphql/mutations.js';\r\n+import { FaTrash, FaEdit } from 'react-icons/fa';\r\n+import { saveAs } from 'file-saver';\r\n+import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n+\r\n+const Book = () => {\r\n+  const { bookId } = useParams(); // Get bookId from the route\r\n+  const navigate = useNavigate();\r\n+  const role = localStorage.getItem('role'); // Fetch user role\r\n+  const token = localStorage.getItem('token');\r\n+\r\n+  // Fetch book data\r\n+  const { loading, error, data } = useQuery(BOOK, {\r\n+    variables: { \r\n+      bookId,\r\n+    },\r\n+    context: {\r\n+      headers: {\r\n+        Authorization: 'Bearer ' + token,\r\n+      },\r\n+    },\r\n+  });\r\n+   const book = data?.book;\r\n+\r\n+  const [deleteBook] = useMutation(DELETEBOOK);\r\n+  \r\n+  const handleDelete = async () => {\r\n+    if (!bookId) {\r\n+      alert('Invalid book ID.');\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const { data } = await deleteBook({\r\n+        variables: { deleteBookId: bookId },\r\n+        context: {\r\n+          headers: {\r\n+            Authorization: 'Bearer '+token\r\n+          },\r\n+        },\r\n+      });\r\n+      if (data?.deleteBook?.success) {\r\n+        alert('Book deleted successfully!');\r\n+        navigate('/home');\r\n+      } else {\r\n+        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n+      }\r\n+    } catch (err) {\r\n+      console.error('Error deleting book:', err);\r\n+      alert('An error occurred while deleting the book. Please try again.');\r\n+    }\r\n+  };\r\n+\r\n+  if (loading) return <p>Loading...</p>;\r\n+  if (error) return <p>Error: {error.message}</p>;\r\n+\r\n+  const handleUpdate = () => {\r\n+    navigate(`/admin/updateBook/${bookId}`);\r\n+  };\r\n+\r\n+  const handleDownload = () => {\r\n+    const pdfUrl = book.bookFile;\r\n+    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n+    if (!pdfUrl) {\r\n+      alert('File not available for download.');\r\n+      return;\r\n+    }\r\n+    saveAs(pdfUrl, pdfName); \r\n+  };\r\n+\r\n+  return (\r\n+    <div>\r\n+      <Navbar />\r\n+\r\n+      <div className=\"book-detail\">\r\n+        <img\r\n+          src={book.bookCover} \r\n+          alt={book.bookName}\r\n+          className=\"book-photo\"\r\n+        />\r\n+\r\n+        <div className=\"book-info\">\r\n+          <h1 className=\"book-title\">{book.bookName}</h1>\r\n+          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n+        </div>\r\n+\r\n+        <div style={{backgroundColor:'white', marginBottom:'20px'}}>\r\n+                 <h3 style={{paddingTop:'20px',textAlign:'center', color:'#ff1493'}}>We need your support!</h3>\r\n+            <Link  className='donate-msg'  to='/donate' style={{ color:'#070C70'}}> \r\n+        <p style={{ fontSize:'20px', textAlign:'center', paddingBottom:'40px'}}>\r\n+        Kindly click here to support us with a donation, helping us continue \r\n+        providing free access to an exceptional collection of African Literature.\r\n+            <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n+        </Link>  \r\n+           </div>\r\n+\r\n+        <div className=\"book-description\">\r\n+          <h3>Description</h3>\r\n+          <p className='desc'>{book.bookDescription}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"book-meta\">\r\n+          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n+          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n+        </div>\r\n+\r\n+        <div className=\"buttons-div\">\r\n+          {/* Download button */}\r\n+          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n+            Download \r\n+          </button>\r\n+\r\n+          {/* Admin icons for delete and edit */}\r\n+          {(role === 'admin' || role === 'superAdmin') && (\r\n+            <div className=\"admin-icons\">\r\n+              <FaTrash\r\n+                className=\"icon delete-icon\"\r\n+                title=\"Delete Book\"\r\n+                onClick={handleDelete}\r\n+              />\r\n+              <FaEdit\r\n+                className=\"icon edit-icon\"\r\n+                title=\"Update Book\"\r\n+                onClick={handleUpdate}\r\n+              />\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      </div>\r\n+      <Footer />\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Book;\r\n"
                },
                {
                    "date": 1736572491953,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,30 +7,30 @@\n import { DELETEBOOK } from '../graphql/mutations.js';\r\n import { FaTrash, FaEdit } from 'react-icons/fa';\r\n import { saveAs } from 'file-saver';\r\n import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n+import Skeleton from 'react-loading-skeleton';\r\n+import 'react-loading-skeleton/dist/skeleton.css';\r\n \r\n const Book = () => {\r\n-  const { bookId } = useParams(); // Get bookId from the route\r\n+  const { bookId } = useParams();\r\n   const navigate = useNavigate();\r\n-  const role = localStorage.getItem('role'); // Fetch user role\r\n+  const role = localStorage.getItem('role');\r\n   const token = localStorage.getItem('token');\r\n \r\n-  // Fetch book data\r\n   const { loading, error, data } = useQuery(BOOK, {\r\n-    variables: { \r\n-      bookId,\r\n-    },\r\n+    variables: { bookId },\r\n     context: {\r\n       headers: {\r\n-        Authorization: 'Bearer ' + token,\r\n+        Authorization: `Bearer ${token}`,\r\n       },\r\n     },\r\n   });\r\n-   const book = data?.book;\r\n \r\n+  const book = data?.book;\r\n+\r\n   const [deleteBook] = useMutation(DELETEBOOK);\r\n-  \r\n+\r\n   const handleDelete = async () => {\r\n     if (!bookId) {\r\n       alert('Invalid book ID.');\r\n       return;\r\n@@ -40,12 +40,13 @@\n       const { data } = await deleteBook({\r\n         variables: { deleteBookId: bookId },\r\n         context: {\r\n           headers: {\r\n-            Authorization: 'Bearer '+token\r\n+            Authorization: `Bearer ${token}`,\r\n           },\r\n         },\r\n       });\r\n+\r\n       if (data?.deleteBook?.success) {\r\n         alert('Book deleted successfully!');\r\n         navigate('/home');\r\n       } else {\r\n@@ -56,365 +57,113 @@\n       alert('An error occurred while deleting the book. Please try again.');\r\n     }\r\n   };\r\n \r\n-  if (loading) return <p>Loading...</p>;\r\n-  if (error) return <p>Error: {error.message}</p>;\r\n-\r\n   const handleUpdate = () => {\r\n     navigate(`/admin/updateBook/${bookId}`);\r\n   };\r\n \r\n   const handleDownload = () => {\r\n-    const pdfUrl = book.bookFile;\r\n-    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n+    const pdfUrl = book?.bookFile;\r\n+    const pdfName = `literalouge.com ${book?.bookName || 'book'}.pdf`;\r\n+\r\n     if (!pdfUrl) {\r\n       alert('File not available for download.');\r\n       return;\r\n     }\r\n-    saveAs(pdfUrl, pdfName); \r\n+\r\n+    saveAs(pdfUrl, pdfName);\r\n   };\r\n \r\n-  return (\r\n-    <div>\r\n-      <Navbar />\r\n-\r\n-      <div className=\"book-detail\">\r\n-        <img\r\n-          src={book.bookCover} \r\n-          alt={book.bookName}\r\n-          className=\"book-photo\"\r\n-        />\r\n-\r\n-        <div className=\"book-info\">\r\n-          <h1 className=\"book-title\">{book.bookName}</h1>\r\n-          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n-        </div>\r\n-\r\n-        <div style={{backgroundColor:'white', marginBottom:'20px'}}>\r\n-                 <h3 style={{paddingTop:'20px',textAlign:'center', color:'#ff1493'}}>We need your support!</h3>\r\n-            <Link  className='donate-msg'  to='/donate' style={{ color:'#070C70'}}> \r\n-        <p style={{ fontSize:'20px', textAlign:'center', paddingBottom:'40px'}}>\r\n-        Kindly click here to support us with a donation, helping us continue \r\n-        providing free access to an exceptional collection of African Literature.\r\n-            <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n-        </Link>  \r\n-           </div>\r\n-\r\n-        <div className=\"book-description\">\r\n-          <h3>Description</h3>\r\n-          <p className='desc'>{book.bookDescription}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"book-meta\">\r\n-          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n-          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"buttons-div\">\r\n-          {/* Download button */}\r\n-          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n-            Download \r\n-          </button>\r\n-\r\n-          {/* Admin icons for delete and edit */}\r\n-          {(role === 'admin' || role === 'superAdmin') && (\r\n-            <div className=\"admin-icons\">\r\n-              <FaTrash\r\n-                className=\"icon delete-icon\"\r\n-                title=\"Delete Book\"\r\n-                onClick={handleDelete}\r\n-              />\r\n-              <FaEdit\r\n-                className=\"icon edit-icon\"\r\n-                title=\"Update Book\"\r\n-                onClick={handleUpdate}\r\n-              />\r\n-            </div>\r\n-          )}\r\n-        </div>\r\n+  if (loading) {\r\n+    return (\r\n+      <div className=\"loading-skeleton\">\r\n+        <Skeleton height={400} width=\"100%\" />\r\n+        <Skeleton count={3} height={20} width=\"80%\" style={{ margin: '10px auto' }} />\r\n       </div>\r\n-      <Footer />\r\n-    </div>\r\n-  );\r\n-};\r\n+    );\r\n+  }\r\n \r\n-export default Book;\r\n-import '../css/Book.css';\r\n-import { useParams, useNavigate, Link } from \"react-router-dom\";\r\n-import Navbar from '../layout/Navbar.jsx';\r\n-import Footer from '../layout/Footer.jsx';\r\n-import { useQuery, useMutation } from '@apollo/client';\r\n-import { BOOK } from '../graphql/queries.js';\r\n-import { DELETEBOOK } from '../graphql/mutations.js';\r\n-import { FaTrash, FaEdit } from 'react-icons/fa';\r\n-import { saveAs } from 'file-saver';\r\n-import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n-\r\n-const Book = () => {\r\n-  const { bookId } = useParams(); // Get bookId from the route\r\n-  const navigate = useNavigate();\r\n-  const role = localStorage.getItem('role'); // Fetch user role\r\n-  const token = localStorage.getItem('token');\r\n-\r\n-  // Fetch book data\r\n-  const { loading, error, data } = useQuery(BOOK, {\r\n-    variables: { \r\n-      bookId,\r\n-    },\r\n-    context: {\r\n-      headers: {\r\n-        Authorization: 'Bearer ' + token,\r\n-      },\r\n-    },\r\n-  });\r\n-   const book = data?.book;\r\n-\r\n-  const [deleteBook] = useMutation(DELETEBOOK);\r\n-  \r\n-  const handleDelete = async () => {\r\n-    if (!bookId) {\r\n-      alert('Invalid book ID.');\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      const { data } = await deleteBook({\r\n-        variables: { deleteBookId: bookId },\r\n-        context: {\r\n-          headers: {\r\n-            Authorization: 'Bearer '+token\r\n-          },\r\n-        },\r\n-      });\r\n-      if (data?.deleteBook?.success) {\r\n-        alert('Book deleted successfully!');\r\n-        navigate('/home');\r\n-      } else {\r\n-        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n-      }\r\n-    } catch (err) {\r\n-      console.error('Error deleting book:', err);\r\n-      alert('An error occurred while deleting the book. Please try again.');\r\n-    }\r\n-  };\r\n-\r\n-  if (loading) return <p>Loading...</p>;\r\n   if (error) return <p>Error: {error.message}</p>;\r\n \r\n-  const handleUpdate = () => {\r\n-    navigate(`/admin/updateBook/${bookId}`);\r\n-  };\r\n-\r\n-  const handleDownload = () => {\r\n-    const pdfUrl = book.bookFile;\r\n-    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n-    if (!pdfUrl) {\r\n-      alert('File not available for download.');\r\n-      return;\r\n-    }\r\n-    saveAs(pdfUrl, pdfName); \r\n-  };\r\n-\r\n   return (\r\n     <div>\r\n       <Navbar />\r\n \r\n       <div className=\"book-detail\">\r\n-        <img\r\n-          src={book.bookCover} \r\n-          alt={book.bookName}\r\n-          className=\"book-photo\"\r\n-        />\r\n+        {book && (\r\n+          <>\r\n+            {/* Book Cover */}\r\n+            <img\r\n+              src={book.bookCover}\r\n+              alt={book.bookName}\r\n+              className=\"book-photo\"\r\n+            />\r\n \r\n-        <div className=\"book-info\">\r\n-          <h1 className=\"book-title\">{book.bookName}</h1>\r\n-          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n-        </div>\r\n+            {/* Book Info */}\r\n+            <div className=\"book-info\">\r\n+              <h1 className=\"book-title\">{book.bookName}</h1>\r\n+              <p className=\"book-author\">by {book.bookAuthor}</p>\r\n+            </div>\r\n \r\n-        <div style={{backgroundColor:'white', marginBottom:'20px'}}>\r\n-                 <h3 style={{paddingTop:'20px',textAlign:'center', color:'#ff1493''#070C70'}}>We need your support!</h3>\r\n-            <Link  className='donate-msg'  to='/donate' style={{ color:}}> \r\n-        <p style={{ fontSize:'20px', textAlign:'center', paddingBottom:'40px'}}>\r\n-        Kindly click here to support us with a donation, helping us continue \r\n-        providing free access to an exceptional collection of African Literature.\r\n-            <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n-        </Link>  \r\n-           </div>\r\n+            {/* Donation Section */}\r\n+            <div className=\"donation-section\">\r\n+              <h3 className=\"donation-header\">We need your support!</h3>\r\n+              <Link className=\"donate-msg\" to=\"/donate\">\r\n+                <p>\r\n+                  Kindly click here to support us with a donation, helping us\r\n+                  continue providing free access to an exceptional collection of\r\n+                  African Literature. <VolunteerActivismIcon className=\"icon\" />\r\n+                </p>\r\n+              </Link>\r\n+            </div>\r\n \r\n-        <div className=\"book-description\">\r\n-          <h3>Description</h3>\r\n-          <p className='desc'>{book.bookDescription}</p>\r\n-        </div>\r\n+            {/* Book Description */}\r\n+            <div className=\"book-description\">\r\n+              <h3>Description</h3>\r\n+              <p>{book.bookDescription}</p>\r\n+            </div>\r\n \r\n-        <div className=\"book-meta\">\r\n-          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n-          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n-        </div>\r\n+            {/* Book Meta Info */}\r\n+            <div className=\"book-meta\">\r\n+              <p>\r\n+                <strong>Category:</strong> {book.bookCategory}\r\n+              </p>\r\n+              <p>\r\n+                <strong>Language:</strong> {book.bookLanguage}\r\n+              </p>\r\n+            </div>\r\n \r\n-        <div className=\"buttons-div\">\r\n-          {/* Download button */}\r\n-          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n-            Download \r\n-          </button>\r\n+            {/* Action Buttons */}\r\n+            <div className=\"buttons-div\">\r\n+              <button\r\n+                onClick={handleDownload}\r\n+                disabled={loading}\r\n+                className=\"book-link\"\r\n+              >\r\n+                Download\r\n+              </button>\r\n \r\n-          {/* Admin icons for delete and edit */}\r\n-          {(role === 'admin' || role === 'superAdmin') && (\r\n-            <div className=\"admin-icons\">\r\n-              <FaTrash\r\n-                className=\"icon delete-icon\"\r\n-                title=\"Delete Book\"\r\n-                onClick={handleDelete}\r\n-              />\r\n-              <FaEdit\r\n-                className=\"icon edit-icon\"\r\n-                title=\"Update Book\"\r\n-                onClick={handleUpdate}\r\n-              />\r\n+              {(role === 'admin' || role === 'superAdmin') && (\r\n+                <div className=\"admin-icons\">\r\n+                  <FaTrash\r\n+                    className=\"icon delete-icon\"\r\n+                    title=\"Delete Book\"\r\n+                    onClick={handleDelete}\r\n+                  />\r\n+                  <FaEdit\r\n+                    className=\"icon edit-icon\"\r\n+                    title=\"Update Book\"\r\n+                    onClick={handleUpdate}\r\n+                  />\r\n+                </div>\r\n+              )}\r\n             </div>\r\n-          )}\r\n-        </div>\r\n+          </>\r\n+        )}\r\n       </div>\r\n-      <Footer />\r\n-    </div>\r\n-  );\r\n-};\r\n \r\n-export default Book;\r\n-import '../css/Book.css';\r\n-import { useParams, useNavigate, Link } from \"react-router-dom\";\r\n-import Navbar from '../layout/Navbar.jsx';\r\n-import Footer from '../layout/Footer.jsx';\r\n-import { useQuery, useMutation } from '@apollo/client';\r\n-import { BOOK } from '../graphql/queries.js';\r\n-import { DELETEBOOK } from '../graphql/mutations.js';\r\n-import { FaTrash, FaEdit } from 'react-icons/fa';\r\n-import { saveAs } from 'file-saver';\r\n-import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n-\r\n-const Book = () => {\r\n-  const { bookId } = useParams(); // Get bookId from the route\r\n-  const navigate = useNavigate();\r\n-  const role = localStorage.getItem('role'); // Fetch user role\r\n-  const token = localStorage.getItem('token');\r\n-\r\n-  // Fetch book data\r\n-  const { loading, error, data } = useQuery(BOOK, {\r\n-    variables: { \r\n-      bookId,\r\n-    },\r\n-    context: {\r\n-      headers: {\r\n-        Authorization: 'Bearer ' + token,\r\n-      },\r\n-    },\r\n-  });\r\n-   const book = data?.book;\r\n-\r\n-  const [deleteBook] = useMutation(DELETEBOOK);\r\n-  \r\n-  const handleDelete = async () => {\r\n-    if (!bookId) {\r\n-      alert('Invalid book ID.');\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      const { data } = await deleteBook({\r\n-        variables: { deleteBookId: bookId },\r\n-        context: {\r\n-          headers: {\r\n-            Authorization: 'Bearer '+token\r\n-          },\r\n-        },\r\n-      });\r\n-      if (data?.deleteBook?.success) {\r\n-        alert('Book deleted successfully!');\r\n-        navigate('/home');\r\n-      } else {\r\n-        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n-      }\r\n-    } catch (err) {\r\n-      console.error('Error deleting book:', err);\r\n-      alert('An error occurred while deleting the book. Please try again.');\r\n-    }\r\n-  };\r\n-\r\n-  if (loading) return <p>Loading...</p>;\r\n-  if (error) return <p>Error: {error.message}</p>;\r\n-\r\n-  const handleUpdate = () => {\r\n-    navigate(`/admin/updateBook/${bookId}`);\r\n-  };\r\n-\r\n-  const handleDownload = () => {\r\n-    const pdfUrl = book.bookFile;\r\n-    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n-    if (!pdfUrl) {\r\n-      alert('File not available for download.');\r\n-      return;\r\n-    }\r\n-    saveAs(pdfUrl, pdfName); \r\n-  };\r\n-\r\n-  return (\r\n-    <div>\r\n-      <Navbar />\r\n-\r\n-      <div className=\"book-detail\">\r\n-        <img\r\n-          src={book.bookCover} \r\n-          alt={book.bookName}\r\n-          className=\"book-photo\"\r\n-        />\r\n-\r\n-        <div className=\"book-info\">\r\n-          <h1 className=\"book-title\">{book.bookName}</h1>\r\n-          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n-        </div>\r\n-\r\n-        <div style={{backgroundColor:'white', marginBottom:'20px'}}>\r\n-                 <h3 style={{paddingTop:'20px',textAlign:'center', color:'#070C70'}}>We need your support!</h3>\r\n-            <Link  className='donate-msg'  to='/donate' style={{ color:'#ff1493'}}> \r\n-        <p style={{ fontSize:'20px', textAlign:'center', paddingBottom:'40px'}}>\r\n-        Kindly click here to support us with a donation, helping us continue providing free access to an exceptional collection of African Literature.\r\n-            <br/> Gracious <VolunteerActivismIcon fontSize=\"medium\" style={{ fill:' #ff1493',  }} /> </p>\r\n-        </Link>  \r\n-           </div>\r\n-\r\n-        <div className=\"book-description\">\r\n-          <h3>Description</h3>\r\n-          <p className='desc'>{book.bookDescription}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"book-meta\">\r\n-          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n-          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n-        </div>\r\n-\r\n-        <div className=\"buttons-div\">\r\n-          {/* Download button */}\r\n-          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n-            Download \r\n-          </button>\r\n-\r\n-          {/* Admin icons for delete and edit */}\r\n-          {(role === 'admin' || role === 'superAdmin') && (\r\n-            <div className=\"admin-icons\">\r\n-              <FaTrash\r\n-                className=\"icon delete-icon\"\r\n-                title=\"Delete Book\"\r\n-                onClick={handleDelete}\r\n-              />\r\n-              <FaEdit\r\n-                className=\"icon edit-icon\"\r\n-                title=\"Update Book\"\r\n-                onClick={handleUpdate}\r\n-              />\r\n-            </div>\r\n-          )}\r\n-        </div>\r\n-      </div>\r\n+      {/* Footer */}\r\n       <Footer />\r\n     </div>\r\n   );\r\n };\r\n"
                },
                {
                    "date": 1736572900428,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,171 +0,0 @@\n-import '../css/Book.css';\r\n-import { useParams, useNavigate, Link } from \"react-router-dom\";\r\n-import Navbar from '../layout/Navbar.jsx';\r\n-import Footer from '../layout/Footer.jsx';\r\n-import { useQuery, useMutation } from '@apollo/client';\r\n-import { BOOK } from '../graphql/queries.js';\r\n-import { DELETEBOOK } from '../graphql/mutations.js';\r\n-import { FaTrash, FaEdit } from 'react-icons/fa';\r\n-import { saveAs } from 'file-saver';\r\n-import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n-import Skeleton from 'react-loading-skeleton';\r\n-import 'react-loading-skeleton/dist/skeleton.css';\r\n-\r\n-const Book = () => {\r\n-  const { bookId } = useParams();\r\n-  const navigate = useNavigate();\r\n-  const role = localStorage.getItem('role');\r\n-  const token = localStorage.getItem('token');\r\n-\r\n-  const { loading, error, data } = useQuery(BOOK, {\r\n-    variables: { bookId },\r\n-    context: {\r\n-      headers: {\r\n-        Authorization: `Bearer ${token}`,\r\n-      },\r\n-    },\r\n-  });\r\n-\r\n-  const book = data?.book;\r\n-\r\n-  const [deleteBook] = useMutation(DELETEBOOK);\r\n-\r\n-  const handleDelete = async () => {\r\n-    if (!bookId) {\r\n-      alert('Invalid book ID.');\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      const { data } = await deleteBook({\r\n-        variables: { deleteBookId: bookId },\r\n-        context: {\r\n-          headers: {\r\n-            Authorization: `Bearer ${token}`,\r\n-          },\r\n-        },\r\n-      });\r\n-\r\n-      if (data?.deleteBook?.success) {\r\n-        alert('Book deleted successfully!');\r\n-        navigate('/home');\r\n-      } else {\r\n-        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n-      }\r\n-    } catch (err) {\r\n-      console.error('Error deleting book:', err);\r\n-      alert('An error occurred while deleting the book. Please try again.');\r\n-    }\r\n-  };\r\n-\r\n-  const handleUpdate = () => {\r\n-    navigate(`/admin/updateBook/${bookId}`);\r\n-  };\r\n-\r\n-  const handleDownload = () => {\r\n-    const pdfUrl = book?.bookFile;\r\n-    const pdfName = `literalouge.com ${book?.bookName || 'book'}.pdf`;\r\n-\r\n-    if (!pdfUrl) {\r\n-      alert('File not available for download.');\r\n-      return;\r\n-    }\r\n-\r\n-    saveAs(pdfUrl, pdfName);\r\n-  };\r\n-\r\n-  if (loading) {\r\n-    return (\r\n-      <div className=\"loading-skeleton\">\r\n-        <Skeleton height={400} width=\"100%\" />\r\n-        <Skeleton count={3} height={20} width=\"80%\" style={{ margin: '10px auto' }} />\r\n-      </div>\r\n-    );\r\n-  }\r\n-\r\n-  if (error) return <p>Error: {error.message}</p>;\r\n-\r\n-  return (\r\n-    <div>\r\n-      <Navbar />\r\n-\r\n-      <div className=\"book-detail\">\r\n-        {book && (\r\n-          <>\r\n-            {/* Book Cover */}\r\n-            <img\r\n-              src={book.bookCover}\r\n-              alt={book.bookName}\r\n-              className=\"book-photo\"\r\n-            />\r\n-\r\n-            {/* Book Info */}\r\n-            <div className=\"book-info\">\r\n-              <h1 className=\"book-title\">{book.bookName}</h1>\r\n-              <p className=\"book-author\">by {book.bookAuthor}</p>\r\n-            </div>\r\n-\r\n-            {/* Donation Section */}\r\n-            <div className=\"donation-section\">\r\n-              <h3 className=\"donation-header\">We need your support!</h3>\r\n-              <Link className=\"donate-msg\" to=\"/donate\">\r\n-                <p>\r\n-                  Kindly click here to support us with a donation, helping us\r\n-                  continue providing free access to an exceptional collection of\r\n-                  African Literature. <VolunteerActivismIcon className=\"icon\" />\r\n-                </p>\r\n-              </Link>\r\n-            </div>\r\n-\r\n-            {/* Book Description */}\r\n-            <div className=\"book-description\">\r\n-              <h3>Description</h3>\r\n-              <p>{book.bookDescription}</p>\r\n-            </div>\r\n-\r\n-            {/* Book Meta Info */}\r\n-            <div className=\"book-meta\">\r\n-              <p>\r\n-                <strong>Category:</strong> {book.bookCategory}\r\n-              </p>\r\n-              <p>\r\n-                <strong>Language:</strong> {book.bookLanguage}\r\n-              </p>\r\n-            </div>\r\n-\r\n-            {/* Action Buttons */}\r\n-            <div className=\"buttons-div\">\r\n-              <button\r\n-                onClick={handleDownload}\r\n-                disabled={loading}\r\n-                className=\"book-link\"\r\n-              >\r\n-                Download\r\n-              </button>\r\n-\r\n-              {(role === 'admin' || role === 'superAdmin') && (\r\n-                <div className=\"admin-icons\">\r\n-                  <FaTrash\r\n-                    className=\"icon delete-icon\"\r\n-                    title=\"Delete Book\"\r\n-                    onClick={handleDelete}\r\n-                  />\r\n-                  <FaEdit\r\n-                    className=\"icon edit-icon\"\r\n-                    title=\"Update Book\"\r\n-                    onClick={handleUpdate}\r\n-                  />\r\n-                </div>\r\n-              )}\r\n-            </div>\r\n-          </>\r\n-        )}\r\n-      </div>\r\n-\r\n-      {/* Footer */}\r\n-      <Footer />\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default Book;\r\n\\ No newline at end of file\n"
                },
                {
                    "date": 1736574348158,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,170 @@\n-\n+import '../css/Book.css';\r\n+import { useParams, useNavigate, Link } from \"react-router-dom\";\r\n+import Navbar from '../layout/Navbar.jsx';\r\n+import Footer from '../layout/Footer.jsx';\r\n+import { useQuery, useMutation } from '@apollo/client';\r\n+import { BOOK } from '../graphql/queries.js';\r\n+import { DELETEBOOK } from '../graphql/mutations.js';\r\n+import { FaTrash, FaEdit } from 'react-icons/fa';\r\n+import { saveAs } from 'file-saver';\r\n+import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n+import Skeleton from 'react-loading-skeleton';\r\n+import 'react-loading-skeleton/dist/skeleton.css';\r\n+\r\n+const Book = () => {\r\n+  const { bookId } = useParams();\r\n+  const navigate = useNavigate();\r\n+  const role = localStorage.getItem('role');\r\n+  const token = localStorage.getItem('token');\r\n+\r\n+  const { loading, error, data } = useQuery(BOOK, {\r\n+    variables: { bookId },\r\n+    context: {\r\n+      headers: {\r\n+        Authorization: `Bearer ${token}`,\r\n+      },\r\n+    },\r\n+  });\r\n+\r\n+  const book = data?.book;\r\n+\r\n+  const [deleteBook] = useMutation(DELETEBOOK);\r\n+\r\n+  const handleDelete = async () => {\r\n+    if (!bookId) {\r\n+      alert('Invalid book ID.');\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const { data } = await deleteBook({\r\n+        variables: { deleteBookId: bookId },\r\n+        context: {\r\n+          headers: {\r\n+            Authorization: `Bearer ${token}`,\r\n+          },\r\n+        },\r\n+      });\r\n+\r\n+      if (data?.deleteBook?.success) {\r\n+        alert('Book deleted successfully!');\r\n+        navigate('/home');\r\n+      } else {\r\n+        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n+      }\r\n+    } catch (err) {\r\n+      console.error('Error deleting book:', err);\r\n+      alert('An error occurred while deleting the book. Please try again.');\r\n+    }\r\n+  };\r\n+\r\n+  const handleUpdate = () => {\r\n+    navigate(`/admin/updateBook/${bookId}`);\r\n+  };\r\n+\r\n+  const handleDownload = () => {\r\n+    const pdfUrl = book?.bookFile;\r\n+    const pdfName = `literalouge.com ${book?.bookName || 'book'}.pdf`;\r\n+\r\n+    if (!pdfUrl) {\r\n+      alert('File not available for download.');\r\n+      return;\r\n+    }\r\n+\r\n+    saveAs(pdfUrl, pdfName);\r\n+  };\r\n+\r\n+  if (loading) {\r\n+    return (\r\n+      <div className=\"loading-skeleton\">\r\n+        <Skeleton height={400} width=\"100%\" />\r\n+        <Skeleton count={3} height={20} width=\"80%\" style={{ margin: '10px auto' }} />\r\n+      </div>\r\n+ \r\n+\r\n+  if (error) return <p>Error: {error.message}</p>;\r\n+\r\n+  return (\r\n+    <div>\r\n+      <Navbar />\r\n+\r\n+      <div className=\"book-detail\">\r\n+        {book && (\r\n+          <>\r\n+            {/* Book Cover */}\r\n+            <img\r\n+              src={book.bookCover}\r\n+              alt={book.bookName}\r\n+              className=\"book-photo\"\r\n+            />\r\n+\r\n+            {/* Book Info */}\r\n+            <div className=\"book-info\">\r\n+              <h1 className=\"book-title\">{book.bookName}</h1>\r\n+              <p className=\"book-author\">by {book.bookAuthor}</p>\r\n+            </div>\r\n+\r\n+            {/* Donation Section */}\r\n+            <div className=\"donation-section\">\r\n+              <h3 className=\"donation-header\">We need your support!</h3>\r\n+              <Link className=\"donate-msg\" to=\"/donate\">\r\n+                <p>\r\n+                  Kindly click here to support us with a donation, helping us\r\n+                  continue providing free access to an exceptional collection of\r\n+                  African Literature. <VolunteerActivismIcon className=\"icon\" />\r\n+                </p>\r\n+              </Link>\r\n+            </div>\r\n+\r\n+            {/* Book Description */}\r\n+            <div className=\"book-description\">\r\n+              <h3>Description</h3>\r\n+              <p>{book.bookDescription}</p>\r\n+            </div>\r\n+\r\n+            {/* Book Meta Info */}\r\n+            <div className=\"book-meta\">\r\n+              <p>\r\n+                <strong>Category:</strong> {book.bookCategory}\r\n+              </p>\r\n+              <p>\r\n+                <strong>Language:</strong> {book.bookLanguage}\r\n+              </p>\r\n+            </div>\r\n+\r\n+            {/* Action Buttons */}\r\n+            <div className=\"buttons-div\">\r\n+              <button\r\n+                onClick={handleDownload}\r\n+                disabled={loading}\r\n+                className=\"book-link\"\r\n+              >\r\n+                Download\r\n+              </button>\r\n+\r\n+              {(role === 'admin' || role === 'superAdmin') && (\r\n+                <div className=\"admin-icons\">\r\n+                  <FaTrash\r\n+                    className=\"icon delete-icon\"\r\n+                    title=\"Delete Book\"\r\n+                    onClick={handleDelete}\r\n+                  />\r\n+                  <FaEdit\r\n+                    className=\"icon edit-icon\"\r\n+                    title=\"Update Book\"\r\n+                    onClick={handleUpdate}\r\n+                  />\r\n+                </div>\r\n+              )}\r\n+            </div>\r\n+          </>\r\n+        )}\r\n+      </div>\r\n+\r\n+      {/* Footer */}\r\n+      <Footer />\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Book;\r\n"
                },
                {
                    "date": 1736574354705,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,10 +73,9 @@\n \r\n     saveAs(pdfUrl, pdfName);\r\n   };\r\n \r\n-  if (loading) {\r\n-    return (\r\n+\r\n       <div className=\"loading-skeleton\">\r\n         <Skeleton height={400} width=\"100%\" />\r\n         <Skeleton count={3} height={20} width=\"80%\" style={{ margin: '10px auto' }} />\r\n       </div>\r\n"
                },
                {
                    "date": 1736574360346,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,12 +74,9 @@\n     saveAs(pdfUrl, pdfName);\r\n   };\r\n \r\n \r\n-      <div className=\"loading-skeleton\">\r\n-        <Skeleton height={400} width=\"100%\" />\r\n-        <Skeleton count={3} height={20} width=\"80%\" style={{ margin: '10px auto' }} />\r\n-      </div>\r\n+    \r\n  \r\n \r\n   if (error) return <p>Error: {error.message}</p>;\r\n \r\n"
                },
                {
                    "date": 1736574392797,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,11 +72,8 @@\n     }\r\n \r\n     saveAs(pdfUrl, pdfName);\r\n   };\r\n-\r\n-\r\n-    \r\n  \r\n \r\n   if (error) return <p>Error: {error.message}</p>;\r\n \r\n@@ -84,9 +81,9 @@\n     <div>\r\n       <Navbar />\r\n \r\n       <div className=\"book-detail\">\r\n-        {book && (\r\n+        {(\r\n           <>\r\n             {/* Book Cover */}\r\n             <img\r\n               src={book.bookCover}\r\n"
                },
                {
                    "date": 1736574398265,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,164 @@\n+import '../css/Book.css';\r\n+import { useParams, useNavigate, Link } from \"react-router-dom\";\r\n+import Navbar from '../layout/Navbar.jsx';\r\n+import Footer from '../layout/Footer.jsx';\r\n+import { useQuery, useMutation } from '@apollo/client';\r\n+import { BOOK } from '../graphql/queries.js';\r\n+import { DELETEBOOK } from '../graphql/mutations.js';\r\n+import { FaTrash, FaEdit } from 'react-icons/fa';\r\n+import { saveAs } from 'file-saver';\r\n+import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n+import Skeleton from 'react-loading-skeleton';\r\n+import 'react-loading-skeleton/dist/skeleton.css';\r\n+\r\n+const Book = () => {\r\n+  const { bookId } = useParams();\r\n+  const navigate = useNavigate();\r\n+  const role = localStorage.getItem('role');\r\n+  const token = localStorage.getItem('token');\r\n+\r\n+  const { loading, error, data } = useQuery(BOOK, {\r\n+    variables: { bookId },\r\n+    context: {\r\n+      headers: {\r\n+        Authorization: `Bearer ${token}`,\r\n+      },\r\n+    },\r\n+  });\r\n+\r\n+  const book = data?.book;\r\n+\r\n+  const [deleteBook] = useMutation(DELETEBOOK);\r\n+\r\n+  const handleDelete = async () => {\r\n+    if (!bookId) {\r\n+      alert('Invalid book ID.');\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const { data } = await deleteBook({\r\n+        variables: { deleteBookId: bookId },\r\n+        context: {\r\n+          headers: {\r\n+            Authorization: `Bearer ${token}`,\r\n+          },\r\n+        },\r\n+      });\r\n+\r\n+      if (data?.deleteBook?.success) {\r\n+        alert('Book deleted successfully!');\r\n+        navigate('/home');\r\n+      } else {\r\n+        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n+      }\r\n+    } catch (err) {\r\n+      console.error('Error deleting book:', err);\r\n+      alert('An error occurred while deleting the book. Please try again.');\r\n+    }\r\n+  };\r\n+\r\n+  const handleUpdate = () => {\r\n+    navigate(`/admin/updateBook/${bookId}`);\r\n+  };\r\n+\r\n+  const handleDownload = () => {\r\n+    const pdfUrl = book?.bookFile;\r\n+    const pdfName = `literalouge.com ${book?.bookName || 'book'}.pdf`;\r\n+\r\n+    if (!pdfUrl) {\r\n+      alert('File not available for download.');\r\n+      return;\r\n+    }\r\n+\r\n+    saveAs(pdfUrl, pdfName);\r\n+  };\r\n+ \r\n+\r\n+  if (error) return <p>Error: {error.message}</p>;\r\n+\r\n+  return (\r\n+    <div>\r\n+      <Navbar />\r\n+\r\n+      <div className=\"book-detail\">\r\n+        {\r\n+        :(\r\n+          <>\r\n+            {/* Book Cover */}\r\n+            <img\r\n+              src={book.bookCover}\r\n+              alt={book.bookName}\r\n+              className=\"book-photo\"\r\n+            />\r\n+\r\n+            {/* Book Info */}\r\n+            <div className=\"book-info\">\r\n+              <h1 className=\"book-title\">{book.bookName}</h1>\r\n+              <p className=\"book-author\">by {book.bookAuthor}</p>\r\n+            </div>\r\n+\r\n+            {/* Donation Section */}\r\n+            <div className=\"donation-section\">\r\n+              <h3 className=\"donation-header\">We need your support!</h3>\r\n+              <Link className=\"donate-msg\" to=\"/donate\">\r\n+                <p>\r\n+                  Kindly click here to support us with a donation, helping us\r\n+                  continue providing free access to an exceptional collection of\r\n+                  African Literature. <VolunteerActivismIcon className=\"icon\" />\r\n+                </p>\r\n+              </Link>\r\n+            </div>\r\n+\r\n+            {/* Book Description */}\r\n+            <div className=\"book-description\">\r\n+              <h3>Description</h3>\r\n+              <p>{book.bookDescription}</p>\r\n+            </div>\r\n+\r\n+            {/* Book Meta Info */}\r\n+            <div className=\"book-meta\">\r\n+              <p>\r\n+                <strong>Category:</strong> {book.bookCategory}\r\n+              </p>\r\n+              <p>\r\n+                <strong>Language:</strong> {book.bookLanguage}\r\n+              </p>\r\n+            </div>\r\n+\r\n+            {/* Action Buttons */}\r\n+            <div className=\"buttons-div\">\r\n+              <button\r\n+                onClick={handleDownload}\r\n+                disabled={loading}\r\n+                className=\"book-link\"\r\n+              >\r\n+                Download\r\n+              </button>\r\n+\r\n+              {(role === 'admin' || role === 'superAdmin') && (\r\n+                <div className=\"admin-icons\">\r\n+                  <FaTrash\r\n+                    className=\"icon delete-icon\"\r\n+                    title=\"Delete Book\"\r\n+                    onClick={handleDelete}\r\n+                  />\r\n+                  <FaEdit\r\n+                    className=\"icon edit-icon\"\r\n+                    title=\"Update Book\"\r\n+                    onClick={handleUpdate}\r\n+                  />\r\n+                </div>\r\n+              )}\r\n+            </div>\r\n+          </>\r\n+        )}\r\n+      </div>\r\n+\r\n+      {/* Footer */}\r\n+      <Footer />\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Book;\r\n"
                },
                {
                    "date": 1736574407589,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,9 +81,9 @@\n     <div>\r\n       <Navbar />\r\n \r\n       <div className=\"book-detail\">\r\n-        {\r\n+        {loa\r\n         :(\r\n           <>\r\n             {/* Book Cover */}\r\n             <img\r\n@@ -161,167 +161,4 @@\n   );\r\n };\r\n \r\n export default Book;\r\n-import '../css/Book.css';\r\n-import { useParams, useNavigate, Link } from \"react-router-dom\";\r\n-import Navbar from '../layout/Navbar.jsx';\r\n-import Footer from '../layout/Footer.jsx';\r\n-import { useQuery, useMutation } from '@apollo/client';\r\n-import { BOOK } from '../graphql/queries.js';\r\n-import { DELETEBOOK } from '../graphql/mutations.js';\r\n-import { FaTrash, FaEdit } from 'react-icons/fa';\r\n-import { saveAs } from 'file-saver';\r\n-import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n-import Skeleton from 'react-loading-skeleton';\r\n-import 'react-loading-skeleton/dist/skeleton.css';\r\n-\r\n-const Book = () => {\r\n-  const { bookId } = useParams();\r\n-  const navigate = useNavigate();\r\n-  const role = localStorage.getItem('role');\r\n-  const token = localStorage.getItem('token');\r\n-\r\n-  const { loading, error, data } = useQuery(BOOK, {\r\n-    variables: { bookId },\r\n-    context: {\r\n-      headers: {\r\n-        Authorization: `Bearer ${token}`,\r\n-      },\r\n-    },\r\n-  });\r\n-\r\n-  const book = data?.book;\r\n-\r\n-  const [deleteBook] = useMutation(DELETEBOOK);\r\n-\r\n-  const handleDelete = async () => {\r\n-    if (!bookId) {\r\n-      alert('Invalid book ID.');\r\n-      return;\r\n-    }\r\n-\r\n-    try {\r\n-      const { data } = await deleteBook({\r\n-        variables: { deleteBookId: bookId },\r\n-        context: {\r\n-          headers: {\r\n-            Authorization: `Bearer ${token}`,\r\n-          },\r\n-        },\r\n-      });\r\n-\r\n-      if (data?.deleteBook?.success) {\r\n-        alert('Book deleted successfully!');\r\n-        navigate('/home');\r\n-      } else {\r\n-        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n-      }\r\n-    } catch (err) {\r\n-      console.error('Error deleting book:', err);\r\n-      alert('An error occurred while deleting the book. Please try again.');\r\n-    }\r\n-  };\r\n-\r\n-  const handleUpdate = () => {\r\n-    navigate(`/admin/updateBook/${bookId}`);\r\n-  };\r\n-\r\n-  const handleDownload = () => {\r\n-    const pdfUrl = book?.bookFile;\r\n-    const pdfName = `literalouge.com ${book?.bookName || 'book'}.pdf`;\r\n-\r\n-    if (!pdfUrl) {\r\n-      alert('File not available for download.');\r\n-      return;\r\n-    }\r\n-\r\n-    saveAs(pdfUrl, pdfName);\r\n-  };\r\n- \r\n-\r\n-  if (error) return <p>Error: {error.message}</p>;\r\n-\r\n-  return (\r\n-    <div>\r\n-      <Navbar />\r\n-\r\n-      <div className=\"book-detail\">\r\n-        {(\r\n-          <>\r\n-            {/* Book Cover */}\r\n-            <img\r\n-              src={book.bookCover}\r\n-              alt={book.bookName}\r\n-              className=\"book-photo\"\r\n-            />\r\n-\r\n-            {/* Book Info */}\r\n-            <div className=\"book-info\">\r\n-              <h1 className=\"book-title\">{book.bookName}</h1>\r\n-              <p className=\"book-author\">by {book.bookAuthor}</p>\r\n-            </div>\r\n-\r\n-            {/* Donation Section */}\r\n-            <div className=\"donation-section\">\r\n-              <h3 className=\"donation-header\">We need your support!</h3>\r\n-              <Link className=\"donate-msg\" to=\"/donate\">\r\n-                <p>\r\n-                  Kindly click here to support us with a donation, helping us\r\n-                  continue providing free access to an exceptional collection of\r\n-                  African Literature. <VolunteerActivismIcon className=\"icon\" />\r\n-                </p>\r\n-              </Link>\r\n-            </div>\r\n-\r\n-            {/* Book Description */}\r\n-            <div className=\"book-description\">\r\n-              <h3>Description</h3>\r\n-              <p>{book.bookDescription}</p>\r\n-            </div>\r\n-\r\n-            {/* Book Meta Info */}\r\n-            <div className=\"book-meta\">\r\n-              <p>\r\n-                <strong>Category:</strong> {book.bookCategory}\r\n-              </p>\r\n-              <p>\r\n-                <strong>Language:</strong> {book.bookLanguage}\r\n-              </p>\r\n-            </div>\r\n-\r\n-            {/* Action Buttons */}\r\n-            <div className=\"buttons-div\">\r\n-              <button\r\n-                onClick={handleDownload}\r\n-                disabled={loading}\r\n-                className=\"book-link\"\r\n-              >\r\n-                Download\r\n-              </button>\r\n-\r\n-              {(role === 'admin' || role === 'superAdmin') && (\r\n-                <div className=\"admin-icons\">\r\n-                  <FaTrash\r\n-                    className=\"icon delete-icon\"\r\n-                    title=\"Delete Book\"\r\n-                    onClick={handleDelete}\r\n-                  />\r\n-                  <FaEdit\r\n-                    className=\"icon edit-icon\"\r\n-                    title=\"Update Book\"\r\n-                    onClick={handleUpdate}\r\n-                  />\r\n-                </div>\r\n-              )}\r\n-            </div>\r\n-          </>\r\n-        )}\r\n-      </div>\r\n-\r\n-      {/* Footer */}\r\n-      <Footer />\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default Book;\r\n"
                },
                {
                    "date": 1736574414507,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,5 +161,5 @@\n     </div>\r\n   );\r\n };\r\n \r\n-export defau\n\\ No newline at end of file\n+export default Book;\r\n"
                },
                {
                    "date": 1736574471427,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,168 @@\n+import '../css/Book.css';\r\n+import { useParams, useNavigate, Link } from \"react-router-dom\";\r\n+import Navbar from '../layout/Navbar.jsx';\r\n+import Footer from '../layout/Footer.jsx';\r\n+import { useQuery, useMutation } from '@apollo/client';\r\n+import { BOOK } from '../graphql/queries.js';\r\n+import { DELETEBOOK } from '../graphql/mutations.js';\r\n+import { FaTrash, FaEdit } from 'react-icons/fa';\r\n+import { saveAs } from 'file-saver';\r\n+import VolunteerActivismIcon from '@mui/icons-material/VolunteerActivism';\r\n+import Skeleton from 'react-loading-skeleton';\r\n+import 'react-loading-skeleton/dist/skeleton.css';\r\n+\r\n+const Book = () => {\r\n+  const { bookId } = useParams();\r\n+  const navigate = useNavigate();\r\n+  const role = localStorage.getItem('role');\r\n+  const token = localStorage.getItem('token');\r\n+\r\n+  const { loading, error, data } = useQuery(BOOK, {\r\n+    variables: { bookId },\r\n+    context: {\r\n+      headers: {\r\n+        Authorization: `Bearer ${token}`,\r\n+      },\r\n+    },\r\n+  });\r\n+\r\n+  const book = data?.book;\r\n+\r\n+  const [deleteBook] = useMutation(DELETEBOOK);\r\n+\r\n+  const handleDelete = async () => {\r\n+    if (!bookId) {\r\n+      alert('Invalid book ID.');\r\n+      return;\r\n+    }\r\n+\r\n+    try {\r\n+      const { data } = await deleteBook({\r\n+        variables: { deleteBookId: bookId },\r\n+        context: {\r\n+          headers: {\r\n+            Authorization: `Bearer ${token}`,\r\n+          },\r\n+        },\r\n+      });\r\n+\r\n+      if (data?.deleteBook?.success) {\r\n+        alert('Book deleted successfully!');\r\n+        navigate('/home');\r\n+      } else {\r\n+        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n+      }\r\n+    } catch (err) {\r\n+      console.error('Error deleting book:', err);\r\n+      alert('An error occurred while deleting the book. Please try again.');\r\n+    }\r\n+  };\r\n+\r\n+  const handleUpdate = () => {\r\n+    navigate(`/admin/updateBook/${bookId}`);\r\n+  };\r\n+\r\n+  const handleDownload = () => {\r\n+    const pdfUrl = book?.bookFile;\r\n+    const pdfName = `literalouge.com ${book?.bookName || 'book'}.pdf`;\r\n+\r\n+    if (!pdfUrl) {\r\n+      alert('File not available for download.');\r\n+      return;\r\n+    }\r\n+\r\n+    saveAs(pdfUrl, pdfName);\r\n+  };\r\n+ \r\n+\r\n+  if (error) return <p>Error: {error.message}</p>;\r\n+\r\n+  return (\r\n+    <div>\r\n+      <Navbar />\r\n+\r\n+      <div className=\"book-detail\">\r\n+        {loading?\r\n+          <div className=\"loading-skeleton\">\r\n+          <Skeleton height={400} width=\"100%\" />\r\n+          <Skeleton count={3} height={20} width=\"80%\" style={{ margin: '10px auto' }} />\r\n+        </div>\r\n+        :(\r\n+          <>\r\n+            {/* Book Cover */}\r\n+            <img\r\n+              src={book.bookCover}\r\n+              alt={book.bookName}\r\n+              className=\"book-photo\"\r\n+            />\r\n+\r\n+            {/* Book Info */}\r\n+            <div className=\"book-info\">\r\n+              <h1 className=\"book-title\">{book.bookName}</h1>\r\n+              <p className=\"book-author\">by {book.bookAuthor}</p>\r\n+            </div>\r\n+\r\n+            {/* Donation Section */}\r\n+            <div className=\"donation-section\">\r\n+              <h3 className=\"donation-header\">We need your support!</h3>\r\n+              <Link className=\"donate-msg\" to=\"/donate\">\r\n+                <p >\r\n+                  Kindly click here to support us with a donation, helping us\r\n+                  continue providing free access to an exceptional collection of\r\n+                  African Literature. <VolunteerActivismIcon className=\"icon\" />\r\n+                </p>\r\n+              </Link>\r\n+            </div>\r\n+\r\n+            {/* Book Description */}\r\n+            <div className=\"book-description\">\r\n+              <h3>Description</h3>\r\n+              <p>{book.bookDescription}</p>\r\n+            </div>\r\n+\r\n+            {/* Book Meta Info */}\r\n+            <div className=\"book-meta\">\r\n+              <p>\r\n+                <strong>Category:</strong> {book.bookCategory}\r\n+              </p>\r\n+              <p>\r\n+                <strong>Language:</strong> {book.bookLanguage}\r\n+              </p>\r\n+            </div>\r\n+\r\n+            {/* Action Buttons */}\r\n+            <div className=\"buttons-div\">\r\n+              <button\r\n+                onClick={handleDownload}\r\n+                disabled={loading}\r\n+                className=\"book-link\"\r\n+              >\r\n+                Download\r\n+              </button>\r\n+\r\n+              {(role === 'admin' || role === 'superAdmin') && (\r\n+                <div className=\"admin-icons\">\r\n+                  <FaTrash\r\n+                    className=\"icon delete-icon\"\r\n+                    title=\"Delete Book\"\r\n+                    onClick={handleDelete}\r\n+                  />\r\n+                  <FaEdit\r\n+                    className=\"icon edit-icon\"\r\n+                    title=\"Update Book\"\r\n+                    onClick={handleUpdate}\r\n+                  />\r\n+                </div>\r\n+              )}\r\n+            </div>\r\n+          </>\r\n+        )}\r\n+      </div>\r\n+\r\n+      {/* Footer */}\r\n+      <Footer />\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Book;\r\n"
                }
            ],
            "date": 1736562833452,
            "name": "Commit-0",
            "content": "import '../css/Book.css';\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport Navbar from '../layout/Navbar.jsx';\r\nimport Footer from '../layout/Footer.jsx';\r\nimport { useQuery, useMutation } from '@apollo/client';\r\nimport { BOOK } from '../graphql/queries.js';\r\nimport { DELETEBOOK } from '../graphql/mutations.js';\r\nimport { FaTrash, FaEdit } from 'react-icons/fa';\r\nimport { saveAs } from 'file-saver';\r\n\r\n\r\nconst Book = () => {\r\n  const { bookId } = useParams(); // Get bookId from the route\r\n  const navigate = useNavigate();\r\n  const role = localStorage.getItem('role'); // Fetch user role\r\n  const token = localStorage.getItem('token');\r\n\r\n  // Fetch book data\r\n  const { loading, error, data } = useQuery(BOOK, {\r\n    variables: { \r\n      bookId,\r\n    },\r\n    context: {\r\n      headers: {\r\n        Authorization: 'Bearer ' + token,\r\n      },\r\n    },\r\n  });\r\n   const book = data?.book;\r\n\r\n  const [deleteBook] = useMutation(DELETEBOOK);\r\n  \r\n  const handleDelete = async () => {\r\n    if (!bookId) {\r\n      alert('Invalid book ID.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const { data } = await deleteBook({\r\n        variables: { deleteBookId: bookId },\r\n        context: {\r\n          headers: {\r\n            Authorization: 'Bearer '+token\r\n          },\r\n        },\r\n      });\r\n      if (data?.deleteBook?.success) {\r\n        alert('Book deleted successfully!');\r\n        navigate('/home');\r\n      } else {\r\n        alert(data?.deleteBook?.message || 'Failed to delete the book.');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error deleting book:', err);\r\n      alert('An error occurred while deleting the book. Please try again.');\r\n    }\r\n  };\r\n\r\n  if (loading) return <p>Loading...</p>;\r\n  if (error) return <p>Error: {error.message}</p>;\r\n\r\n  const handleUpdate = () => {\r\n    navigate(`/admin/updateBook/${bookId}`);\r\n  };\r\n\r\n  const handleDownload = () => {\r\n    const pdfUrl = book.bookFile;\r\n    const pdfName = `literalouge.com ${book.bookName+' - '+book.bookAuthor|| 'book'}.pdf`;\r\n    if (!pdfUrl) {\r\n      alert('File not available for download.');\r\n      return;\r\n    }\r\n    saveAs(pdfUrl, pdfName); \r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <div className=\"book-detail\">\r\n        <img\r\n          src={book.bookCover} \r\n          alt={book.bookName}\r\n          className=\"book-photo\"\r\n        />\r\n\r\n        <div className=\"book-info\">\r\n          <h1 className=\"book-title\">{book.bookName}</h1>\r\n          <p className=\"book-author\">by {book.bookAuthor}</p>\r\n        </div>\r\n\r\n        <div className=\"book-description\">\r\n          <h3>Description</h3>\r\n          <p className='desc'>{book.bookDescription}</p>\r\n        </div>\r\n\r\n        <div className=\"book-meta\">\r\n          <p><strong>Category:</strong> {book.bookCategory}</p>\r\n          <p><strong>Language:</strong> {book.bookLanguage}</p>\r\n        </div>\r\n\r\n        <div className=\"buttons-div\">\r\n          {/* Download button */}\r\n          <button onClick={handleDownload} disabled={loading}  className=\"book-link\">\r\n            Download \r\n          </button>\r\n\r\n          {/* Admin icons for delete and edit */}\r\n          {(role === 'admin' || role === 'superAdmin') && (\r\n            <div className=\"admin-icons\">\r\n              <FaTrash\r\n                className=\"icon delete-icon\"\r\n                title=\"Delete Book\"\r\n                onClick={handleDelete}\r\n              />\r\n              <FaEdit\r\n                className=\"icon edit-icon\"\r\n                title=\"Update Book\"\r\n                onClick={handleUpdate}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Book;\r\n"
        }
    ]
}